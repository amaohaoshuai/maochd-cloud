var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{_ as u}from"./SubmitButton.99d990fd.js";import{_ as d}from"./BaseCard.46de0c24.js";import{_ as m}from"./element-plus.b44d97a8.js";import{a as i,b as p}from"./index.4d7e135d.js";import{g as n}from"./index.21c3d30d.js";import{g as f}from"./index.b67059af.js";import{v as b}from"./public.9c1d8f39.js";import{_ as c}from"./index.ab904951.js";import{g,j as _,i as V,n as h,t as D,B as v,o as j,a5 as y,e as S,w as U,a6 as L,F as x,N as k,c as C,S as N,z as O,a9 as w,aa as R}from"./@vue.23a4bd1a.js";import"./vuex.c868d4e0.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./vue-router.91336ba9.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";const q={name:"StaffAdd",components:{SubmitButton:u,BaseCard:d},setup(){const e=g(null),u=_({tabClose:!1,formData:{pharmacist:!1,parentStore:!1,roles:[],auditRoles:[]},storeList:[],characterSelectList:[],approvalRoleSelectList:[],pharmacistList:[{value:!0,label:"是"},{value:!1,label:"否"}],parentStoreList:[{value:!0,label:"是"},{value:!1,label:"否"}],stationList:[],sexList:[]});return V((()=>u.formData.parentStore),((e,a)=>{e&&(u.formData.storeUuid="")})),h((()=>{(async()=>{u.stationList=["销售员","采购员","验收员","养护员","质管员","处方审核员"],u.sexList=[{label:"男",value:1},{label:"女",value:2}],p().then((e=>{u.storeList=e}))})(),(async()=>{n(1).then((e=>{u.characterSelectList=e}))})(),(async()=>{f(1).then((e=>{u.approvalRoleSelectList=e}))})()})),d=((e,a)=>{for(var l in a||(a={}))r.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&s(e,l,a[l]);return e})({},D(u)),a(d,l({submitAdd:async()=>{if(await b(e)){let e=JSON.parse(JSON.stringify(u.formData));e.auditRoles=e.auditRoles.toString(),e.roles=e.roles.toString(),e.station=e.station.toString(),i(e).then((e=>{m({type:"success",message:"添加成功!"}),u.tabClose=!0}))}},ruleForm:e}));var d}},A={class:"staffAdd"},z=(e=>(w("data-v-ad9a9bb8"),e=e(),R(),e))((()=>L("span",{style:{"font-size":"16px","font-weight":"600"}},"新增员工管理",-1))),Y=N(" 提交 ");var B=c(q,[["render",function(e,a,l,t,r,o){const s=u,m=v("el-input"),i=v("el-form-item"),p=v("el-col"),n=v("el-row"),f=v("el-option"),b=v("el-select"),c=v("el-radio"),g=v("el-radio-group"),_=v("el-date-picker"),V=v("el-form"),h=d;return j(),y("div",A,[S(h,{route:{path:"/system/base-config/staff"},close:e.tabClose},{header:U((()=>[z,L("div",null,[S(s,{class:"btn",onClick:t.submitAdd,config:{size:"medium"}},{default:U((()=>[Y])),_:1},8,["onClick"])])])),default:U((()=>[S(V,{inline:"",model:e.formData,ref:"ruleForm","label-width":"120px",class:"demo-ruleForm"},{default:U((()=>[S(n,null,{default:U((()=>[S(p,{span:8},{default:U((()=>[S(i,{label:"员工编号",prop:"userNumber",rules:[{trigger:"blur",pattern:/^[A-Za-z0-9]{6,20}$/,message:"请输入字母或数字组合6-20位组合"},{required:!0,message:"请输入员工编号",trigger:"blur"}]},{default:U((()=>[S(m,{modelValue:e.formData.userNumber,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formData.userNumber=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"员工账号",prop:"userAccount",rules:[{required:!0,message:"请输入员账号",trigger:"blur"},{trigger:"blur",pattern:/^[A-Za-z0-9]{6,20}$/,message:"请输入字母或数字组合6-20位组合"}]},{default:U((()=>[S(m,{modelValue:e.formData.userAccount,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.userAccount=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"员工姓名",prop:"userName",rules:[{required:!0,message:"请输员工姓名",trigger:"blur"}]},{default:U((()=>[S(m,{modelValue:e.formData.userName,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.userName=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),S(n),S(n,null,{default:U((()=>[S(p,{span:8},{default:U((()=>[S(i,{label:"手机号",prop:"phone",rules:[{required:!0,message:"请输手机号",trigger:"blur"},{trigger:"blur",pattern:/^(\+86|0086)?\s*1[345789]\d{9}$/,message:"请输入正确的手机号码"}]},{default:U((()=>[S(m,{modelValue:e.formData.phone,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.phone=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"岗位"},{default:U((()=>[S(b,{modelValue:e.formData.station,"onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.station=a),placeholder:"请选择",multiple:""},{default:U((()=>[(j(!0),y(x,null,k(e.stationList,((e,a)=>(j(),C(f,{label:e,value:e,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"是否药师",prop:"pharmacist",rules:[{required:!0,message:"请选择是否药师",trigger:"change"}]},{default:U((()=>[S(g,{modelValue:e.formData.pharmacist,"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.pharmacist=a)},{default:U((()=>[(j(!0),y(x,null,k(e.pharmacistList,((e,a)=>(j(),C(c,{label:e.value,key:a},{default:U((()=>[N(O(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),S(n,null,{default:U((()=>[S(p,{span:8},{default:U((()=>[S(i,{label:"系统角色",prop:"roles",rules:[{required:!0,message:"请选择系统角色",trigger:"change"}]},{default:U((()=>[S(b,{modelValue:e.formData.roles,"onUpdate:modelValue":a[6]||(a[6]=a=>e.formData.roles=a),placeholder:"请选择",multiple:""},{default:U((()=>[(j(!0),y(x,null,k(e.characterSelectList,((e,a)=>(j(),C(f,{label:e.roleName,value:e.uuid,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"审批角色",prop:"auditRoles",rules:[{required:!0,message:"请选择审批角色",trigger:"change"}]},{default:U((()=>[S(b,{modelValue:e.formData.auditRoles,"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.auditRoles=a),placeholder:"请选择",multiple:""},{default:U((()=>[(j(!0),y(x,null,k(e.approvalRoleSelectList,((e,a)=>(j(),C(f,{label:e.auditRoleName,value:e.uuid,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"是否总部",prop:"parentStore",rules:[{required:!0,message:"请选择是否总部",trigger:"change"}]},{default:U((()=>[S(g,{modelValue:e.formData.parentStore,"onUpdate:modelValue":a[8]||(a[8]=a=>e.formData.parentStore=a)},{default:U((()=>[(j(!0),y(x,null,k(e.pharmacistList,((e,a)=>(j(),C(c,{label:e.value,key:a},{default:U((()=>[N(O(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),S(n,null,{default:U((()=>[S(p,{span:8},{default:U((()=>[S(i,{label:"门店",prop:"storeUuid",rules:[{required:!e.formData.parentStore,message:"请选择门店",trigger:"change"}]},{default:U((()=>[S(b,{modelValue:e.formData.storeUuid,"onUpdate:modelValue":a[9]||(a[9]=a=>e.formData.storeUuid=a),placeholder:"请选择",disabled:!!e.formData.parentStore},{default:U((()=>[(j(!0),y(x,null,k(e.storeList,((e,a)=>(j(),C(f,{label:e.storeName,value:e.uuid,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1},8,["rules"])])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"身份证号",prop:"idCard",rules:[{trigger:"blur",pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证号"}]},{default:U((()=>[S(m,{modelValue:e.formData.idCard,"onUpdate:modelValue":a[10]||(a[10]=a=>e.formData.idCard=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"性别",prop:"sex"},{default:U((()=>[S(b,{modelValue:e.formData.sex,"onUpdate:modelValue":a[11]||(a[11]=a=>e.formData.sex=a),placeholder:"请选择"},{default:U((()=>[(j(!0),y(x,null,k(e.sexList,((e,a)=>(j(),C(f,{label:e.label,value:e.value,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),S(n,null,{default:U((()=>[S(p,{span:8},{default:U((()=>[S(i,{prop:"kk",label:"身份证有效期"},{default:U((()=>[S(_,{modelValue:e.formData.idCardValidity,"onUpdate:modelValue":a[12]||(a[12]=a=>e.formData.idCardValidity=a),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",type:"date",placeholder:"选择日期"},null,8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"职称",prop:"professional"},{default:U((()=>[S(m,{modelValue:e.formData.professional,"onUpdate:modelValue":a[13]||(a[13]=a=>e.formData.professional=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),S(p,{span:8},{default:U((()=>[S(i,{label:"职务",prop:"position"},{default:U((()=>[S(m,{modelValue:e.formData.position,"onUpdate:modelValue":a[14]||(a[14]=a=>e.formData.position=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),S(n,null,{default:U((()=>[S(p,{span:8},{default:U((()=>[S(i,{label:"最高学历",prop:"education"},{default:U((()=>[S(m,{modelValue:e.formData.education,"onUpdate:modelValue":a[15]||(a[15]=a=>e.formData.education=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["close"])])}],["__scopeId","data-v-ad9a9bb8"]]);export{B as default};
