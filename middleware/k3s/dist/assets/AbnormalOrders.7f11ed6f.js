var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&o(e,a,t[a]);if(r)for(var a of r(t))s.call(t,a)&&o(e,a,t[a]);return e};import{_ as n}from"./BaseStencil.46c3d678.js";import{g as m}from"./index.6952ab26.js";import{r as p,_ as d}from"./index.ab904951.js";import{e as u,S as b,B as c,g as f,j as h,n as j,D as y,t as g,o as v,a5 as k}from"./@vue.23a4bd1a.js";import{u as w}from"./vue-router.91336ba9.js";import{g as O,f as T}from"./filter.c2c8f0b9.js";import{s as C,g as S}from"./businessRule.60794e55.js";import{u as P}from"./vuex.c868d4e0.js";import"./BaseForm.bc55ad6b.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./BaseTable.36f55649.js";import"./sortablejs.621e50ab.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";function x(e,t,a){return{form:{inline:!0,labelWidth:"100px",list:[{placeholder:"收银员",type:"INPUT",key:"cashier"},{placeholder:"销售员",type:"INPUT",key:"sell"},{placeholder:"门店",type:"SELECT",config:{multiple:!0},key:"businessUuid",props:{label:"name",value:"uuid"},list:()=>t.value},{type:"LINKAGETIME",keys:["beginTime","endTime"],design:{width:"250px"},config:{"start-placeholder":"制单开始时间","end-placeholder":"制单结束时间"}}]},tableConfig:{columns:[{type:"index",title:"序号",formConfig:{width:50}},{title:"门店",key:"business",width:176},{title:"销售单号",key:"orderNo",width:176},{title:"应收金额",key:"orderAmount",align:"right",width:110},{title:"会员姓名",key:"memberName",width:78},{title:"会员手机号",key:"memberPhone",width:110},{title:"收银员",key:"employName",width:78},{title:"销售员",key:"sellName",width:78},{title:"是否含处方",key:"hasEthical",width:100,render:e=>1==e.hasEthical?"是":"否"},{title:"是否含特殊制剂",key:"hasSpecial",width:120,render:e=>1==e.hasSpecial?"是":"否"},{title:"制单时间",key:"createTime",width:180},{title:"操作",key:"options",render:e=>[u(c("el-button"),{type:"text",onClick:()=>{p.push({name:"AbnormalOrdersDetails",query:{uuid:e.uuid,returnPath:"/retail/abnormalOrders"}})}},{default:()=>[b("查看")]})]}]}}}const D={class:"supplier"};var F=d({name:"AbnormalOrders",setup(e,o){const n=new Date;let p=O(n,30,!0);const d=w(),u=P();f(null);const b=f([]),c=h({isClear:!1,loading:!1,tableData:[],deepSearchTable:x(0,b),submitForm:{"page.currentPage":1,"page.pageSize":10,beginTime:p[0],endTime:T(new Date),businessUuid:[]},columns:[]}),v=()=>{let e=c.submitForm,{businessUuid:t}=e,a=((e,t)=>{var a={};for(var o in e)i.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&r)for(var o of r(e))t.indexOf(o)<0&&s.call(e,o)&&(a[o]=e[o]);return a})(e,["businessUuid"]);t=C(t);let o=l({businessUuid:t},a);m(o).then((e=>{c.submitForm.currentPage=e.currentPage,c.submitForm.pageSize=e.pageSize,c.tableData=e.list,c.submitForm.total=e.totalElements}))},k=async()=>{try{const e=await u.dispatch("common/mechanism");b.value=e,S(b.value,c,c.deepSearchTable.form)}catch(e){return e}};return j((()=>{})),y((()=>{v(),k()})),D=l({findList:b},g(c)),t(D,a({getList:v,getFindListData:k,onClick:({item:e,type:t})=>{"dblclick"==t&&d.push({path:"/retail/abnormalOrdersDetails",query:{uuid:e.uuid,type:"edit"}})}}));var D}},[["render",function(e,t,a,r,i,s){const o=n;return v(),k("div",D,[u(o,{"form-data":e.deepSearchTable.form,"submit-form":e.submitForm,"onUpdate:submit-form":t[0]||(t[0]=t=>e.submitForm=t),class:"base-stencil","table-data":e.tableData,columns:e.deepSearchTable.tableConfig.columns,pagination:e.submitForm,options:!0,ref:"form",select:r.getList,onOnClick:r.onClick,isClear:e.isClear},null,8,["form-data","submit-form","table-data","columns","pagination","select","onOnClick","isClear"])])}],["__scopeId","data-v-25b5a154"]]);export{F as default};
