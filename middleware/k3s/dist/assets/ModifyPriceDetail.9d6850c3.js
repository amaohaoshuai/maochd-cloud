var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;import{_ as l}from"./EditForm.8c35f1a6.js";import{_ as d}from"./BaseTable.36f55649.js";import{_ as n}from"./BaseCard.46de0c24.js";import{_ as m}from"./BaseName.1aa32b4b.js";import{b as p}from"./vue-router.91336ba9.js";import{p as c}from"./index.6a02aeaf.js";import{u}from"./vuex.c868d4e0.js";import{j as f,e as b,D as y,t as j,B as v,o as g,a5 as h,w,a6 as k,a9 as P,aa as x}from"./@vue.23a4bd1a.js";import{_}from"./index.ab904951.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./sortablejs.621e50ab.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./public.9c1d8f39.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";/* empty css                                                             */import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";var I={name:"ModifyPriceDetail",setup(){let e=p();u();let l=f({index:0,editForm:null,editForm1:null,baseTable:null,keyBoard:null,close:!1,go:{path:"/commodity-manage/modify-price"},config:{size:"medium"},pot:0,query:{},formInfo:{labelWidth:"90px",span:8,list:[{label:"调价单编号：",type:"DIV",key:"number",render:()=>b("div",null,[l.info.number||"-"])},{label:"创建人：",type:"DIV",key:"creator",render:()=>b("div",null,[l.info.creator||"-"])},{label:"制单时间：",type:"DIV",key:"createTime",render:()=>b("div",null,[l.info.createTime||"-"])},{label:"业务机构：",type:"DIV",key:"business",render:()=>b("div",null,[l.info.business||"-"])}]},info:{},columns:[{title:"序号",type:"index",formConfig:{width:50}},{title:"商品编码",key:"code",width:80},{title:"商品名称",key:"productName",width:180,render:e=>b(m,{row:e},null)},{title:"库存数量",key:"stockNumber",align:"right"},{title:"成本进价",key:"overallPackPrice",align:"right"},{title:"原零售价",key:"oldRetailPrice",align:"right",width:120},{title:"新零售价",key:"newRetailPrice",align:"right",width:120},{title:"零售价差额",key:"retailPriceDiff",align:"right",width:120},{title:"新会员价",key:"newMemberPrice",align:"right",width:120},{title:"毛利率(%)",key:"grossMargin",width:110},{title:"备注",key:"note",width:224}],data:[]});const d=async e=>{try{let t={uuid:e};const r=await c(t);l.info=r,l.data=r.adjustPriceJsons,l.data.map((e=>{e.name=e.productName,e.drugUuid=e.productUuid}))}catch(t){return t}};return y((()=>{let{query:t}=e;e.query.uuid&&d(t.uuid)})),n=((e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(a)for(var r of a(t))o.call(t,r)&&s(e,r,t[r]);return e})({},j(l)),t(n,r({getDetail:d}));var n}};const D=e=>(P("data-v-057d9f88"),e=e(),x(),e),O={class:"formItem-noMargin",style:{height:"100%"}},T=D((()=>k("div",{class:"title"},"查看商品调价",-1))),B={class:"top-content"},z=D((()=>k("div",{class:"tit",style:{"margin-bottom":"12px"}},"单据信息",-1))),N={class:"main"},F=D((()=>k("div",{class:"tit"},"商品信息",-1)));var M=_(I,[["render",function(e,t,r,a,i,o){const s=l,m=d,p=v("el-scrollbar"),c=n;return g(),h("div",O,[b(c,{close:e.close,route:e.go,backTips:!1},{header:w((()=>[T])),top:w((()=>[k("div",B,[z,b(s,{"form-data":e.formInfo,"onUpdate:form-data":t[0]||(t[0]=t=>e.formInfo=t),"submit-form":e.info,"onUpdate:submit-form":t[1]||(t[1]=t=>e.info=t),ref:"editForm"},null,8,["form-data","submit-form"])])])),default:w((()=>[b(p,null,{default:w((()=>[k("div",N,[F,b(m,{class:"select-table",columns:e.columns,"table-data":e.data,"fixed-head":!1,optionShow:!1,ref:"baseTable"},null,8,["columns","table-data"])])])),_:1})])),_:1},8,["close","route"])])}],["__scopeId","data-v-057d9f88"]]);export{M as default};
