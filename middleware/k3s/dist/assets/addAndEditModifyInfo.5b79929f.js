var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,o=(e,a)=>{for(var l in a||(a={}))r.call(a,l)&&d(e,l,a[l]);if(t)for(var l of t(a))i.call(a,l)&&d(e,l,a[l]);return e},s=(e,t)=>a(e,l(t));import{_ as u}from"./EditForm.8c35f1a6.js";import{_ as n}from"./BaseCard.46de0c24.js";import{m as c,h as m,d as p,i as b,j as g,a as y,g as f,k as h}from"./index.6a02aeaf.js";import{c as v,d as F,_ as k,b as S}from"./element-plus.b44d97a8.js";import{f as x}from"./filter.c2c8f0b9.js";import{d as U,b as w,p as E}from"./index.6efc7880.js";import{s as P,_ as N}from"./index.ab904951.js";import{g as C,j as _,n as T,D as V,t as D,B as I,o as j,a5 as O,e as q,w as L,a6 as R,z as M,c as B,F as $,N as A,S as z,G as J,v as Y,a9 as H,aa as W,Y as X,h as K,L as G,J as Q}from"./@vue.23a4bd1a.js";import{_ as Z}from"./BaseTable.36f55649.js";import{_ as ee}from"./imageUpload.e9124177.js";import{_ as ae}from"./BaseDatePicker.831269d5.js";import{c as le}from"./common.6e2a0964.js";import{b as te}from"./vue-router.91336ba9.js";import{g as re}from"./index.41a8010a.js";import{_ as ie}from"./lodash.d7ab6f48.js";import{u as de,m as oe}from"./vuex.c868d4e0.js";import{d as se}from"./index.d0e41a43.js";import{g as ue}from"./pinyin.e6905309.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./public.9c1d8f39.js";import"./axios.7b768d2b.js";import"./resize-observer-polyfill.d4249adb.js";import"./dayjs.bad04745.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";import"./sortablejs.621e50ab.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./moment.08a7f518.js";function ne(e,a,l){if(""==a)l(new Error(e.message));else{/^[0-9]{6}$/.test(a)?l():l(new Error("请输入正确的邮政编码"))}}function ce(e,a,l){!function(e){const a=Number(e);return!isNaN(a)&&/^(\+86|0086)?\s*1[345789]\d{9}$/.test(a)}(a)?l(new Error("请输入正确的手机号码")):l()}function me(e,a,l){var t;"string"!=typeof a||null!=a&&""!==a?"string"==typeof a&&(!(t=a)||/(^\s)|(\s$)/.test(t))?l(new Error(`${e.newMessage}头尾不能有空格`)):l():l(new Error(`请输入${e.newMessage}`))}function pe(e,a,l){let t=new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$");a?t.test(a)?l():l(new Error("请输入正确的邮箱")):l(new Error(e.message))}function be(e,a,l){!e.required&&""===a||!e.required&&null===a||/0\d{2,3}-\d{7,8}/.test(a)?l():l(new Error("请输入正确的座机号码"))}function ge(e,a,l){Array.isArray(a)?0===a.length?l(new Error(e.message)):l():l(new Error(e.message))}function ye(e,a,l){if(a||l(new Error(e.message)),/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(a))if(18==a.length){let e=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),t=new Array(1,0,10,9,8,7,6,5,4,3,2),r=0;for(let l=0;l<17;l++)r+=a.substring(l,l+1)*e[l];let i=r%11,d=a.substring(17);2==i?"X"==d||"x"==d?l():l(new Error("请输入正确的身份证号")):d==t[i]?l():l(new Error("请输入正确的身份证号"))}else l(new Error("请输入正确的身份证号"));else l(new Error("请输入正确的身份证号"))}function fe(e,a,l){isNaN(Number(a))?l(new Error(e.message)):l()}function he(e,a,l){a<0?l(new Error(e.message)):l()}function ve(e,a,l){/^[0-9]\d*$/.test(a)?l():l(new Error(e.message))}function Fe(e,a,l){/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^[0-9]\.[0-9]([0-9])?$)/.test(a)?l():l(new Error(e.message))}function ke(e,a,l){if(!Array.isArray(e.duplicData))throw new Error("duplicData is not Array Type!");e.duplicData.includes(a)?l(new Error(e.message)):l()}function Se(e,a,l){if("function"!=typeof e.handler)throw new Error("handler is not a Function!");e.handler(a)?l():l(new Error(e.message))}function xe(e,a,l){String(a).length>e.maxlength?l(new Error(e.message)):l()}function Ue(e,a,l){(e.required||!function(e){return""===e||null==e}(a))&&String(a).length<e.minlength?l(new Error(e.message)):l()}function we(e,a,l){parseFloat(a)>parseFloat(e.max)?l(new Error(e.message)):l()}function Ee(e,a,l){parseFloat(a)<parseFloat(e.min)?l(new Error(e.message)):l()}function Pe(e,a,l){a?/^[\u4E00-\u9FA5]{1,5}$/.test(a)?l():l(new Error("请输入中文")):l(new Error(e.message))}function Ne(e,a,l){a?/^[0-9a-zA-Z]*$/.test(a)?l():l(new Error("请输入字母和数字组合")):l(new Error(e.message))}function Ce(e,a,l){l()}function _e(e="required",a={}){return Object.assign({},function(e){return{required:{},array:{validator:ge},number:{validator:fe},phone:{validator:ce},mail:{validator:pe},idCard:{validator:ye},integer:{validator:ve},price:{validator:Fe},duplic:{validator:ke},positive:{validator:he},compare:{validator:Se},maxlength:{validator:xe},minlength:{validator:Ue},max:{validator:we},min:{validator:Ee},postcode:{validator:ne},telePhone:{validator:be},Chinese:{validator:Pe},account:{validator:Ne},"no-required":{validator:Ce}}[e]}(e),a)}function Te(e,a,l={}){const t={required:!0,trigger:"change"};switch(e){case"input":t.message=`请输入${a}`;break;case"select":t.message=`请选择${a}`;break;case"upload":t.message=`请上传${a}`;break;case"no-required":t.required=!1;break;case"required":t.message=`${a}不能为空`;break;case"maxlength":t.message=`${a}长度不能大于${l.maxlength}`;break;case"minlength":t.message=`${a}长度不能小于${l.minlength}`;break;case"max":t.message=`${a}数额不能大于${l.max}`;break;case"min":t.message=`${a}数额不能小于${l.min}`;break;case"number":t.message=`${a}必须为数字`;break;case"integer":t.message=`${a}必须为整数`;break;case"price":t.message=`${a}填写有误`;break;case"positive":t.message=`${a}必须为正数`;break;case"duplic":t.message=`${a}不能重复`;break;case"compare":t.message=`请输入正确的${a}`}return t}function Ve(e,a,l={}){l=Object.assign({},Te(e,a,l),l);let t=[];if("required"===(e=["input","select","upload"].includes(e)?"required":e))t=[{validator:me},_e(e,l)],t[0].newMessage=a;else if("no-required"===l.required){const r=Object.assign({},l,Te("no-required",a));t.unshift(_e(e,r))}else t=[_e(e,l)];if("positive"===e){const e=Object.assign({},l,Te("number",a));t.unshift(_e("number",e))}if("required"!==e&&l.required){const e=Object.assign({},l,Te("required",a));t.unshift(_e("required",e))}return t}const{status:De,dict:Ie}=P.state.common,je={name:"user",props:{otherDisabled:{type:Boolean,default:!0},ruleForm:{type:Object,default:{}},rules:{type:Object,default:{}},isEdit:{type:Boolean,default:!0},isAdd:{type:Boolean,default:!0},disabled:{type:Boolean,default:!0}},setup(e,a){const l=C(null),t=JSON.parse(JSON.stringify(Ie)).filter((e=>"category1"===e.key)),r=JSON.parse(JSON.stringify(Ie)).filter((e=>"unit"===e.key)),i=JSON.parse(JSON.stringify(Ie)).filter((e=>"prescription"===e.key)),d=_({dictCategoryInfo:"",dictUnitInfo:"",dictPrescriptionInfo:"",supplierList:[],formatDate:x,purchaseState:{},purchaseStateList:[],saleState:{},saleStateList:[],conditionState:{},conditionList:[],categoryList:[{value:"",label:"",children:[{value:"",label:""}]}],maintenanceType:{},maintenanceTypeList:[]}),u=()=>{d.dictCategoryInfo=t.length>0?t[0].data:"",d.dictUnitInfo=r.length>0?r[0].data:"",d.dictPrescriptionInfo=i.length>0?i[0].data:"",d.purchaseState={1:"正常",2:"停购"},d.purchaseStateList=[{value:1,label:"正常"},{value:2,label:"停购"}],d.saleState={1:"正常",2:"停销"},d.saleStateList=[{value:1,label:"正常"},{value:2,label:"停销"}],d.conditionState={1:"常温",2:"阴凉",3:"冷藏"},d.conditionList=[{value:1,label:"常温"},{value:2,label:"阴凉"},{value:3,label:"冷藏"}],d.maintenanceType={1:"一般养护",2:"重点养护"},d.maintenanceTypeList=[{value:1,label:"一般养护"},{value:2,label:"重点养护"}],(async()=>{try{const e=await U();d.supplierList=e}catch(e){return e}})(),(async()=>{try{const e=await w();d.categoryList=e,d.categoryList.map((e=>{e.value=e.uuid,e.label=e.categoryName,e.children=e.list,e.children.map((e=>{e.value=e.uuid,e.label=e.name}))}))}catch(e){return e}})()};T((()=>{u()})),V((()=>{u()}));return s(o({},D(d)),{quickInput:function(){a.emit("quick-input",{})},handleChange:function(e){if(e){const l=d.categoryList.filter((a=>a.uuid===JSON.parse(JSON.stringify(e))[0])),t=JSON.parse(JSON.stringify(l))[0].list.filter((a=>a.uuid===JSON.parse(JSON.stringify(e))[1]));a.emit("handle-change",JSON.parse(JSON.stringify(e))[1],l[0].categoryName+"/"+t[0].name)}},baseInfoForm:l,verification:()=>new Promise((e=>{l.value.validate((a=>{e(a)}))})),initData:u})}},Oe={class:"base-info"},qe={key:0,style:{display:"flex"}},Le={key:1},Re={key:1},Me={key:1},Be={style:{"border-bottom":"1px solid #E4E7ED","margin-top":"20px"}},$e={key:1},Ae={key:1},ze={key:1},Je={key:1},Ye={key:1},He={key:1},We={key:1},Xe={key:1},Ke=z("是"),Ge=z("否"),Qe={key:1},Ze={key:1},ea={key:1},aa={key:1},la={key:1},ta={key:1},ra={key:1},ia={key:1},da={key:1},oa=z("是"),sa=z("否"),ua={key:1},na={key:1},ca={key:1},ma={key:1},pa={key:1},ba={key:1},ga={key:1},ya={style:{"margin-top":"20px"}},fa={key:1},ha={key:1},va={key:1},Fa={key:1},ka={key:1},Sa={key:1};var xa=N(je,[["render",function(e,a,l,t,r,i){const d=I("el-input"),o=I("el-form-item"),s=I("el-col"),u=I("el-option"),n=I("el-select"),c=I("el-cascader"),m=I("el-row"),p=I("el-radio"),b=I("el-radio-group"),g=I("el-date-picker"),y=I("el-form");return j(),O("div",Oe,[q(y,{model:l.ruleForm,ref:"baseInfoForm",rules:l.rules,"label-width":"155px"},{default:L((()=>[R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"商品名称":"商品名称：",prop:"productName"},{default:L((()=>[l.isEdit?(j(),O("div",qe,[q(d,{placeholder:"请输入",modelValue:l.ruleForm.productName,"onUpdate:modelValue":a[0]||(a[0]=e=>l.ruleForm.productName=e),disabled:l.disabled,clearable:"",style:{width:"224px"}},null,8,["modelValue","disabled"])])):(j(),O("div",Le,[R("span",null,M(l.ruleForm.productName?l.ruleForm.productName:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"商品类别":"商品类别：",prop:"category1"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,modelValue:l.ruleForm.category1,"onUpdate:modelValue":a[1]||(a[1]=e=>l.ruleForm.category1=e),disabled:l.disabled,clearable:"",style:{width:"224px"},placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.dictCategoryInfo,((e,a)=>(j(),B(u,{key:a,label:e.key,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])):(j(),O("div",Re,[R("span",null,M(l.ruleForm.category1?l.ruleForm.category1:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"商品分类":"商品分类：",prop:"category2Uuid"},{default:L((()=>[l.isEdit?(j(),B(c,{key:0,disabled:l.disabled,modelValue:l.ruleForm.category2Uuid,"onUpdate:modelValue":a[2]||(a[2]=e=>l.ruleForm.category2Uuid=e),options:e.categoryList,clearable:"",filterable:"",onChange:t.handleChange},null,8,["disabled","modelValue","options","onChange"])):(j(),O("div",Me,[R("span",null,M(l.ruleForm.category2?l.ruleForm.category2:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",Be,[R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"商品编码":"商品编码：",prop:"code"},{default:L((()=>[R("span",null,M(l.ruleForm.code?l.ruleForm.code:"-"),1)])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"通用名":"通用名：",prop:"commonName"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,placeholder:"请输入",modelValue:l.ruleForm.commonName,"onUpdate:modelValue":a[3]||(a[3]=e=>l.ruleForm.commonName=e),disabled:l.disabled,clearable:"",style:{width:"224px"}},null,8,["modelValue","disabled"])):(j(),O("div",$e,M(l.ruleForm.commonName?l.ruleForm.commonName:"-"),1))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"助记码":"助记码："},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,placeholder:"请输入",modelValue:l.ruleForm.mnemonicCode,"onUpdate:modelValue":a[4]||(a[4]=e=>l.ruleForm.mnemonicCode=e),disabled:l.disabled,clearable:"",style:{width:"224px"}},null,8,["modelValue","disabled"])):(j(),O("div",Ae,[R("span",null,M(l.ruleForm.mnemonicCode?l.ruleForm.mnemonicCode:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"规格":"规格：",prop:"specification"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,placeholder:"请输入",disabled:l.disabled,modelValue:l.ruleForm.specification,"onUpdate:modelValue":a[5]||(a[5]=e=>l.ruleForm.specification=e),clearable:"",style:{width:"224px"}},null,8,["disabled","modelValue"])):(j(),O("div",ze,[R("span",null,M(l.ruleForm.specification?l.ruleForm.specification:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"剂型":"剂型：",prop:"dosageForm"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,placeholder:"请输入",disabled:l.disabled,modelValue:l.ruleForm.dosageForm,"onUpdate:modelValue":a[6]||(a[6]=e=>l.ruleForm.dosageForm=e),clearable:"",style:{width:"224px"}},null,8,["disabled","modelValue"])):(j(),O("div",Je,[R("span",null,M(l.ruleForm.dosageForm?l.ruleForm.dosageForm:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"单位":"单位：",prop:"unit"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",modelValue:l.ruleForm.unit,"onUpdate:modelValue":a[7]||(a[7]=e=>l.ruleForm.unit=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.dictUnitInfo,((e,a)=>(j(),B(u,{key:a,label:e.key,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",Ye,[R("span",null,M(l.ruleForm.unit?l.ruleForm.unit:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"生产厂家":"生产厂家：",prop:"manufacturer"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",placeholder:"请输入",modelValue:l.ruleForm.manufacturer,"onUpdate:modelValue":a[8]||(a[8]=e=>l.ruleForm.manufacturer=e)},null,8,["disabled","modelValue"])):(j(),O("div",He,[R("span",null,M(l.ruleForm.manufacturer?l.ruleForm.manufacturer:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"产地":"产地："},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",placeholder:"请输入",modelValue:l.ruleForm.origin,"onUpdate:modelValue":a[9]||(a[9]=e=>l.ruleForm.origin=e)},null,8,["disabled","modelValue"])):(j(),O("div",We,[R("span",null,M(l.ruleForm.origin?l.ruleForm.origin:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"中包装数":"中包装数：",prop:"number"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,modelValue:l.ruleForm.number,"onUpdate:modelValue":a[10]||(a[10]=e=>l.ruleForm.number=e),disabled:l.disabled,maxlength:"8",clearable:"",placeholder:"请输入",style:{width:"224px"}},null,8,["modelValue","disabled"])):(j(),O("div",Xe,[R("span",null,M(l.ruleForm.number?l.ruleForm.number:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"是否药品":"是否药品：",prop:"isDrug"},{default:L((()=>[l.isEdit?(j(),B(b,{key:0,modelValue:l.ruleForm.isDrug,"onUpdate:modelValue":a[11]||(a[11]=e=>l.ruleForm.isDrug=e),disabled:l.disabled},{default:L((()=>[q(p,{label:!0},{default:L((()=>[Ke])),_:1}),q(p,{label:!1},{default:L((()=>[Ge])),_:1})])),_:1},8,["modelValue","disabled"])):(j(),O("div",Qe,[R("span",null,M(l.ruleForm.isDrug?"是":"否"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"采购状态":"采购状态：",prop:"purchaseState"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},clearable:"",disabled:l.disabled,modelValue:l.ruleForm.purchaseState,"onUpdate:modelValue":a[12]||(a[12]=e=>l.ruleForm.purchaseState=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.purchaseStateList,((e,a)=>(j(),B(u,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",Ze,[R("span",null,M(l.ruleForm.purchaseState?e.purchaseState[l.ruleForm.purchaseState]:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"销售状态":"销售状态：",prop:"saleState"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",modelValue:l.ruleForm.saleState,"onUpdate:modelValue":a[13]||(a[13]=e=>l.ruleForm.saleState=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.saleStateList,((e,a)=>(j(),B(u,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",ea,[R("span",null,M(l.ruleForm.saleState?e.saleState[l.ruleForm.saleState]:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"储存条件":"储存条件：",prop:"condition"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",modelValue:l.ruleForm.condition,"onUpdate:modelValue":a[14]||(a[14]=e=>l.ruleForm.condition=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.conditionList,((e,a)=>(j(),B(u,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",aa,[R("span",null,M(l.ruleForm.condition?e.conditionState[l.ruleForm.condition]:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"养护类型":"养护类型：",prop:"maintenanceType"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",modelValue:l.ruleForm.maintenanceType,"onUpdate:modelValue":a[15]||(a[15]=e=>l.ruleForm.maintenanceType=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.maintenanceTypeList,((e,a)=>(j(),B(u,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",la,[R("span",null,M(l.ruleForm.maintenanceType?e.maintenanceType[l.ruleForm.maintenanceType]:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"条码":"条码："},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,modelValue:l.ruleForm.barCode,"onUpdate:modelValue":a[16]||(a[16]=e=>l.ruleForm.barCode=e),clearable:"",placeholder:"请输入"},null,8,["disabled","modelValue"])):(j(),O("div",ta,M(l.ruleForm.barCode?l.ruleForm.barCode:"-"),1))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"批准文号":"批准文号："},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,modelValue:l.ruleForm.approvalNumber,"onUpdate:modelValue":a[17]||(a[17]=e=>l.ruleForm.approvalNumber=e),clearable:"",placeholder:"请输入"},null,8,["disabled","modelValue"])):(j(),O("div",ra,M(l.ruleForm.approvalNumber?l.ruleForm.approvalNumber:"-"),1))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"批准文号有效期至":"批准文号有效期至："},{default:L((()=>[l.isEdit?(j(),B(g,{key:0,type:"date",disabled:l.disabled,placeholder:"请选择",modelValue:l.ruleForm.validPeriod,"onUpdate:modelValue":a[18]||(a[18]=e=>l.ruleForm.validPeriod=e),style:{width:"224px"},"value-format":"YYYY-MM-DD"},null,8,["disabled","modelValue"])):(j(),O("div",ia,M(l.ruleForm.validPeriod?e.formatDate(l.ruleForm.validPeriod):"-"),1))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"处方分类":"处方分类：",prop:"prescriptionClass"},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},clearable:"",disabled:l.disabled,modelValue:l.ruleForm.prescriptionClass,"onUpdate:modelValue":a[19]||(a[19]=e=>l.ruleForm.prescriptionClass=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.dictPrescriptionInfo,((e,a)=>(j(),B(u,{key:a,label:e.key,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",da,M(l.ruleForm.prescriptionClass?l.ruleForm.prescriptionClass:"-"),1))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"是否拆零":"是否拆零：",prop:"isSplit"},{default:L((()=>[l.isEdit?(j(),B(b,{key:0,modelValue:l.ruleForm.isSplit,"onUpdate:modelValue":a[20]||(a[20]=e=>l.ruleForm.isSplit=e),disabled:l.otherDisabled},{default:L((()=>[q(p,{label:!0},{default:L((()=>[oa])),_:1}),q(p,{label:!1},{default:L((()=>[sa])),_:1})])),_:1},8,["modelValue","disabled"])):(j(),O("div",ua,[R("span",null,M(l.ruleForm.isSplit?"是":"否"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"转换比":"转换比：",prop:"conversionRatio"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,modelValue:l.ruleForm.conversionRatio,"onUpdate:modelValue":a[21]||(a[21]=e=>l.ruleForm.conversionRatio=e),disabled:l.ruleForm.productName&&!l.ruleForm.isSplit||l.otherDisabled,clearable:"",placeholder:"请输入",style:{width:"224px"}},null,8,["modelValue","disabled"])):(j(),O("div",na,M(l.ruleForm.conversionRatio?l.ruleForm.conversionRatio:"-"),1))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"拆零单位":"拆零单位："},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},clearable:"",disabled:l.ruleForm.productName&&!l.ruleForm.isSplit||l.otherDisabled,modelValue:l.ruleForm.splitUnit,"onUpdate:modelValue":a[22]||(a[22]=e=>l.ruleForm.splitUnit=e),placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.dictUnitInfo,((e,a)=>(j(),B(u,{key:a,label:e.key,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])):(j(),O("div",ca,[R("span",null,M(l.ruleForm.splitUnit?l.ruleForm.splitUnit:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"上市许可持有人":"上市许可持有人："},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",placeholder:"请输入",modelValue:l.ruleForm.holderPermit,"onUpdate:modelValue":a[23]||(a[23]=e=>l.ruleForm.holderPermit=e)},null,8,["disabled","modelValue"])):(j(),O("div",ma,[R("span",null,M(l.ruleForm.holderPermit?l.ruleForm.holderPermit:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"上市许可持有人地址":"上市许可持有人地址："},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",placeholder:"请输入",modelValue:l.ruleForm.addressPermitHolder,"onUpdate:modelValue":a[24]||(a[24]=e=>l.ruleForm.addressPermitHolder=e)},null,8,["disabled","modelValue"])):(j(),O("div",pa,[R("span",null,M(l.ruleForm.addressPermitHolder?l.ruleForm.addressPermitHolder:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"上市许可持有有效期至":"上市许可持有有效期至："},{default:L((()=>[l.isEdit?(j(),B(g,{key:0,type:"date",disabled:l.disabled,placeholder:"请选择",style:{width:"224px"},modelValue:l.ruleForm.expireTime,"onUpdate:modelValue":a[25]||(a[25]=e=>l.ruleForm.expireTime=e),"value-format":"YYYY-MM-DD"},null,8,["disabled","modelValue"])):(j(),O("div",ba,[R("span",null,M(l.ruleForm.expireTime?e.formatDate(l.ruleForm.expireTime):"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(o,{label:l.isEdit?"供应商":"供应商："},{default:L((()=>[l.isEdit?(j(),B(n,{key:0,style:{width:"224px"},clearable:"",modelValue:l.ruleForm.supplier,"onUpdate:modelValue":a[26]||(a[26]=e=>l.ruleForm.supplier=e),disabled:l.disabled,placeholder:"请选择"},{default:L((()=>[(j(!0),O($,null,A(e.supplierList,(e=>(j(),B(u,{key:e.uuid,label:e.supplierName,value:e.supplierName},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])):(j(),O("div",ga,[R("span",null,M(l.ruleForm.supplier?l.ruleForm.supplier:"-"),1)]))])),_:1},8,["label"])])]),R("div",ya,[R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"零售价(元)":"零售价(元)：",prop:"retailPrice"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,modelValue:l.ruleForm.retailPrice,"onUpdate:modelValue":a[27]||(a[27]=e=>l.ruleForm.retailPrice=e),clearable:"",placeholder:"请输入"},null,8,["disabled","modelValue"])):(j(),O("div",fa,[R("span",null,M(l.ruleForm.retailPrice?l.ruleForm.retailPrice:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"会员价(元)":"会员价(元)：",prop:"memberPrice"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",placeholder:"请输入",modelValue:l.ruleForm.memberPrice,"onUpdate:modelValue":a[28]||(a[28]=e=>l.ruleForm.memberPrice=e)},null,8,["disabled","modelValue"])):(j(),O("div",ha,[R("span",null,M(l.ruleForm.memberPrice?l.ruleForm.memberPrice:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"最高零售价(元)":"最高零售价(元)：",prop:"maxRetailPrice"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},disabled:l.disabled,clearable:"",placeholder:"请输入",modelValue:l.ruleForm.maxRetailPrice,"onUpdate:modelValue":a[29]||(a[29]=e=>l.ruleForm.maxRetailPrice=e)},null,8,["disabled","modelValue"])):(j(),O("div",va,[R("span",null,M(l.ruleForm.maxRetailPrice?l.ruleForm.maxRetailPrice:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(m,null,{default:L((()=>[q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"进项税率(%)":"进项税率(%)：",prop:"inputTaxRate"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},clearable:"",placeholder:"请输入",disabled:l.disabled,modelValue:l.ruleForm.inputTaxRate,"onUpdate:modelValue":a[30]||(a[30]=e=>l.ruleForm.inputTaxRate=e)},null,8,["disabled","modelValue"])):(j(),O("div",Fa,[R("span",null,M(l.ruleForm.inputTaxRate?l.ruleForm.inputTaxRate:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"销项税率(%)":"销项税率(%)：",prop:"outputTaxRate"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},clearable:"",placeholder:"请输入",disabled:l.disabled,modelValue:l.ruleForm.outputTaxRate,"onUpdate:modelValue":a[31]||(a[31]=e=>l.ruleForm.outputTaxRate=e)},null,8,["disabled","modelValue"])):(j(),O("div",ka,[R("span",null,M(l.ruleForm.outputTaxRate?l.ruleForm.outputTaxRate:"-"),1)]))])),_:1},8,["label"])])),_:1}),q(s,{span:8},{default:L((()=>[q(o,{label:l.isEdit?"批发价(元)":"批发价(元)：",prop:"wholesalePrice"},{default:L((()=>[l.isEdit?(j(),B(d,{key:0,style:{width:"224px"},clearable:"",disabled:l.disabled,placeholder:"请输入",modelValue:l.ruleForm.wholesalePrice,"onUpdate:modelValue":a[32]||(a[32]=e=>l.ruleForm.wholesalePrice=e)},null,8,["disabled","modelValue"])):(j(),O("div",Sa,[R("span",null,M(l.ruleForm.wholesalePrice?l.ruleForm.wholesalePrice:"-"),1)]))])),_:1},8,["label"])])),_:1})])),_:1})]),R("div",null,[q(o,{label:"含税批发价(元)："},{default:L((()=>[R("span",null,M(l.ruleForm.taxIncludedPrice?l.ruleForm.taxIncludedPrice:"-"),1)])),_:1})])])])),_:1},8,["model","rules"])])}],["__scopeId","data-v-23e6e11c"]]);const Ua={name:"user",props:{productBarcodeVos:{type:Array,default:[]},credentialStatus:{type:String,default:""},reasonForm:{type:Object,default:{}}},setup(e,a){let l=_({columns:[{title:"序号",type:"index",width:50},{title:"条码",key:"tmCode",formConfig:{minWidth:200},render:a=>J(v,{size:"mini",maxlength:18,placeholder:"请输入",disabled:"see"===e.credentialStatus,"model-value":a.tmCode,onInput:e=>{a.tmCode=e}})},{title:"备注",key:"remark",formConfig:{minWidth:200},render:a=>J(v,{size:"mini",maxlength:100,placeholder:"请输入",disabled:"see"===e.credentialStatus,"model-value":a.remark,onInput:e=>{a.remark=e}})},{title:"创建时间",key:"createTime",width:180},{title:"添加人",key:"creator",width:80},{title:"操作",key:"options",fixed:"right",width:80,render:({index:a})=>{let l=[{type:"text",innerHTML:"删除",show:"see"===e.credentialStatus,onClick:()=>{e.productBarcodeVos.splice(a,1)},style:{color:"#f56c6c"}}];return J("div",l.map((e=>{if(!e.show)return J(F,e)})))}}]});return s(o({},D(l)),{addMsg:()=>{e.productBarcodeVos.push({})}})}},wa={class:"extra-info"},Ea=[(e=>(H("data-v-047e1131"),e=e(),W(),e))((()=>R("i",{class:"el-icon-plus"},null,-1))),z("新增 ")];var Pa=N(Ua,[["render",function(e,a,l,t,r,i){const d=Z;return j(),O("div",wa,[q(d,{"table-data":l.productBarcodeVos,columns:e.columns},null,8,["table-data","columns"]),"see"==l.credentialStatus||!l.reasonForm.productUuid?Y("",!0):(j(),O("div",{key:0,class:"add-msg",onClick:a[0]||(a[0]=(...e)=>t.addMsg&&t.addMsg(...e))},Ea))])}],["__scopeId","data-v-047e1131"]]);const{status:Na,allCategoryList:Ca,dict:_a}=P.state.common;var Ta={name:"user",components:{imageUpload:ee},props:{ruleForm:{type:Array,default:[]},rules:{type:Object,default:{}},isEdit:{type:Boolean,default:!0},credentialStatus:{type:String,default:""},reasonForm:{type:Object,default:{}}},setup(e,a){const{_:l}=le(),t=_({formatDate:x,options:[],columns:[{title:"序号",type:"index",width:50},{title:"资质名称",width:360,render:(a,l,r,i)=>{let o;return q(I("el-select"),{size:"mini",disabled:"see"===e.credentialStatus,class:a[`qualificationName_${i}`],modelValue:a.qualificationName,placeholder:"请选择",onChange:e=>{d(a,"qualificationName",e)}},"function"==typeof(s=o=t.options.map((e=>q(I("el-option"),{key:e.key,label:e.key,value:e.key},null))))||"[object Object]"===Object.prototype.toString.call(s)&&!X(s)?o:{default:()=>[o]});var s}},{title:"图片",width:280,render:(a,l,t,d)=>q(ee,{disabled:"see"===e.credentialStatus,files:a.fileUrl,config:{onSuccess:e=>{r(e.data,d)},onRemove:()=>{i(d)}}},null)},{title:"编号",width:165,render:(a,l,t,r)=>q(I("el-input"),{size:"mini",modelValue:a.serialNumber,disabled:"see"===e.credentialStatus,onInput:e=>{d(a,"serialNumber",e,r)},onChange:e=>{d(a,"serialNumber",e,r)},placeholder:"请输入内容"},null)},{title:"注册时间",width:280,render:(a,l,t,r)=>q(ae,{size:"mini",class:a[`registrationDate_${r}`],data:a,"key-word":"registrationDate",config:{disabled:"see"===e.credentialStatus,size:"mini",valueFormat:"YYYY-MM-DD",disabledDate:e=>e.getTime()>(new Date).getTime()}},null)},{title:"有效日期",width:280,render:(a,l,t,r)=>q(ae,{data:a,class:a[`expireDate_${r}`],"key-word":"expireDate",limit:{keys:["registrationDate","expireDate"],num:180,callback:()=>{k.warning("该商品效期小于180天",{message:"该商品效期小于180天",type:"warning"})}},config:{disabled:"see"===e.credentialStatus,size:"mini",valueFormat:"YYYY-MM-DD",disabledDate:e=>{let l=a.registrationDate;return!!l&&e.getTime()<new Date(l).getTime()-864e5}}},null)},{title:"操作",key:"options",fixed:"right",render:({index:a})=>{let l=[{type:"text",innerHTML:"删除",show:"see"===e.credentialStatus,onClick:()=>{e.ruleForm.splice(a,1)},style:{color:"#f56c6c"}}];return J("div",l.map((e=>{if(!e.show)return J(F,e)})))}}]});function r(e,l){a.emit("handle-change-img",e,l)}function i(e){a.emit("handle-picture-card-remove",e)}const d=(e,a,l,t)=>{e[a]=l};return T((()=>{t.options=_a.length>0?l.find(_a,{key:"qualificationProduct"}).data:[]})),s(o({},D(t)),{del:function(e,a){a.splice(e,1)},add:function(){a.emit("add",{})},handleChange:r,handlePictureCardRemove:i,dateChange:e=>{if(e.registrationDate&&e.expireDate&&e.registrationDate>e.expireDate)return e.registrationDate="",void k.error("注册日期不得晚于有效期至")},dateChange1:e=>{if(e.registrationDate&&e.expireDate&&e.registrationDate>e.expireDate)return e.expireDate="",void k.error("注册日期不得晚于有效期至")},handleTableChange:d})}};const Va={class:"credential-info"},Da={key:0,style:{"padding-bottom":"20px"}},Ia=z("新增");var ja=N(Ta,[["render",function(e,a,l,t,r,i){const d=I("el-button"),o=Z;return j(),O("div",Va,["see"==l.credentialStatus||!l.reasonForm.productUuid?Y("",!0):(j(),O("div",Da,[q(d,{type:"primary",onClick:t.add,size:"small"},{default:L((()=>[Ia])),_:1},8,["onClick"])])),q(o,{"table-data":l.ruleForm,columns:e.columns},null,8,["table-data","columns"])])}],["__scopeId","data-v-7bc93bb8"]]);const{status:Oa,allCategoryList:qa,dict:La}=P.state.common,Ra={name:"AddAndEditModifyInfo",components:{BaseCard:n,baseInfo:xa,extraInfo:Pa,credentialInfo:ja},setup(e,a){const l=de(),t=oe("common",["menus","info","tabs","tabActive"]),r=te(),i=C(null),d=C(null),u=C(null),n=C(null),v=C(null),F=_({drugOtcFlag:{0:"RX",1:"OTC",2:"-"},uuid:r.query.uuid,userInfo:K(t.info.bind({$store:l})),purchaseStateList:[{value:1,label:"正常"},{value:2,label:"停购"}],radio:[{label:"是",value:!0},{label:"否",value:!1}],saleStateList:[{value:1,label:"正常"},{value:2,label:"停销"}],conditionList:[{value:1,label:"常温"},{value:2,label:"阴凉"},{value:3,label:"冷藏"}],maintenanceTypeList:[{value:1,label:"一般养护"},{value:2,label:"重点养护"}],getDictList:(()=>{if(La.length>0){return La.filter(((e,a)=>"category1"===e.key))[0].data.map((e=>({value:e.key,label:e.key})))}})(),getUnitList:(()=>{if(La.length>0){return La.filter(((e,a)=>"unit"===e.key))[0].data.map((e=>({value:e.key,label:e.key})))}})(),getDosageList:(()=>{const e=La.filter(((e,a)=>"dosageForm"===e.key));if(0===e.length)return[];return e[0].data.map((e=>({value:e.key,label:e.key})))})(),dictPrescriptionList:(()=>{if(La.length>0){const e=La.filter(((e,a)=>"prescription"===e.key));if(0===e.length)return[];return e[0].data.map((e=>({value:e.key,label:e.key})))}})(),modifyStatus:r.query.modifyStatus,disabled:!1}),x=_({storeInfoFormData:{span:12,labelWidth:"85px",config:{disabled:!0},list:[{type:"INPUT",key:"retailPrice",label:"零售价"},{type:"INPUT",key:"memberPrice",label:"会员价"}]},storeInfoForm:[],storeInfoSubmitForm:[],drugSourceType:"",categoryMenuList:[{label:"中药饮片",value:"2"},{label:"西药中成药",value:"1"}],commoditySelect:"1",selectPage:{"page.currentPage":1,"page.pageSize":100},categoryList:[],productBarcodeVos:[],product:"",productObj:{},cities:[],product1:"",productObj1:{drugSource:"1"},cities1:[],stayleConfig:{width:"165px"},submitForm:{},formData1:{span:4,labelWidth:"165px",labelPosition:"top",config:{disabled:!1},list:[{type:"INPUT-TOOL-TIP",key:"productName",label:"商品名称",require:!0,config:{class:"product-name-input"},tips:()=>x.quickInfo.name?x.quickInfo.name:x.submitForm1.productName,tipsDisabled:()=>!0,rules:[{required:!0,message:"请输入商品名称",trigger:"blur"}],addBtn:!0,onchange:e=>{x.submitForm1.mnemonicCode=ue(e,"",!0),q(1,x.submitForm1.productName)}},{type:"SELECT",key:"category1",label:"商品类别",list:()=>F.getDictList,require:!0,rules:[{required:!0,message:"请选择商品类别",trigger:"blur"}],config:{onChange(e){L(e)}}},{type:"CASCADER",key:"category2Uuid",label:"商品分类",list:()=>x.categoryList,onchange:e=>P(e),require:!0,levels:!0,width:"165px",rules:[{type:"array",required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"RADIO",key:"isDrug",label:"是否药品",list:()=>F.radio,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"SELECT",key:"prescriptionClass",label:"处方分类",list:()=>F.dictPrescriptionList,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"INPUT",key:"code",label:"商品编码",disabled:()=>!0},{type:"INPUT",key:"commonName",label:"通用名"},{type:"INPUT",key:"mnemonicCode",label:"助记码"},{type:"INPUT",key:"specification",label:"规格",require:!0},{type:"AUTOCOMPLETE",key:"dosageForm",label:"剂型",require:!0,list:()=>F.getDosageList,rules:[{required:!0,message:"请选择剂型",trigger:"blur"}]},{type:"SELECT",key:"unit",label:"单位",list:()=>F.getUnitList,require:!0,rules:[{required:!0,message:"请选择单位",trigger:"blur"}]},{type:"INPUT",key:"manufacturer",label:"生产厂家",require:!0},{type:"INPUT",key:"origin",label:"产地"},{type:"INPUT",key:"barCode",label:"条码"},{type:"INPUT",key:"retailPrice",label:"参考零售价",require:!0,rules:[{required:!0,pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,6})?$/,message:"请输入正确格式,可保留6位小数",trigger:"blur"}]},{type:"INPUT",key:"memberPrice",label:"参考会员价",rules:[{pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,6})?$/,message:"请输入正确格式,可保留6位小数",trigger:"blur"}]},{type:"RADIO",key:"isSplit",label:"是否拆零",list:()=>F.radio,disabled:()=>0!=x.submitForm1.hasSplitNum,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"INPUT",key:"conversionRatio",label:"转换比",rules:[{required:!1,pattern:/^\+?[1-9][0-9]*$/,transformation:!1,message:"请输入整型数据",trigger:"blur"}],disabled:()=>!x.submitForm1.isSplit||0!=x.submitForm1.hasSplitNum},{type:"SELECT",key:"splitUnit",label:"拆零单位",disabled:()=>!x.submitForm1.isSplit||0!=x.submitForm1.hasSplitNum,list:()=>F.getUnitList},{type:"RADIO",key:"isColdChain",label:"冷链",list:()=>F.radio,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"RADIO",key:"isSpecial",label:"含麻黄碱",list:()=>F.radio,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"SELECT",key:"condition",label:"存储条件",list:()=>F.conditionList,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"SELECT",key:"maintenanceType",label:"养护类型",list:()=>F.maintenanceTypeList,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"INPUT",key:"approvalNumber",label:"批准文号"},{type:"INPUT",key:"holderPermit",label:"上市许可持有人"}]},formData2:{span:4,labelWidth:"165px",labelPosition:"top",config:{disabled:!1},list:[{type:"INPUT-TOOL-TIP",key:"productName",label:"商品名称",require:!0,config:{class:"product-name-input"},tips:()=>x.quickInfo.name?x.quickInfo.name:x.submitForm1.productName,tipsDisabled:()=>!0,rules:[{required:!0,message:"请输入商品名称",trigger:"blur"}],addBtn:!0,onchange:e=>{x.submitForm1.mnemonicCode=makePy(e)[0].toString(),q(1,x.submitForm1.productName)}},{type:"SELECT",key:"category1",label:"商品类别",list:()=>F.getDictList,require:!0,rules:[{required:!0,message:"请选择商品类别",trigger:"blur"}]},{type:"CASCADER",key:"category2Uuid",label:"商品分类",list:()=>x.categoryList,onchange:e=>P(e),require:!0,levels:!0,width:"165px",rules:[{type:"array",required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"RADIO",key:"isDrug",label:"是否药品",list:()=>F.radio,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"SELECT",key:"prescriptionClass",label:"处方分类",list:()=>F.dictPrescriptionList,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"INPUT",key:"code",label:"商品编码",disabled:()=>!0},{type:"INPUT",key:"commonName",label:"通用名"},{type:"INPUT",key:"mnemonicCode",label:"助记码"},{type:"INPUT",key:"specification",label:"规格",require:!0},{type:"INPUT",key:"dosageForm",label:"剂型",require:!0},{type:"SELECT",key:"unit",label:"单位",list:()=>F.getUnitList,require:!0,rules:[{required:!0,message:"请选择单位",trigger:"blur"}]},{type:"INPUT",key:"manufacturer",label:"生产厂家",require:!0},{type:"INPUT",key:"origin",label:"产地"},{type:"INPUT",key:"barCode",label:"条码"},{type:"INPUT",key:"retailPrice",label:"零售价",require:!0,rules:[{required:!0,pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,6})?$/,message:"请输入正确格式,可保留6位小数",trigger:"blur"}]},{type:"INPUT",key:"memberPrice",label:"会员价",rules:[{pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,6})?$/,message:"请输入正确格式,可保留6位小数",trigger:"blur"}]},{type:"RADIO",key:"isSplit",label:"是否拆零",list:()=>F.radio,disabled:()=>0!=x.submitForm1.hasSplitNum,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"INPUT",key:"conversionRatio",label:"转换比",rules:[{required:!1,pattern:/^\+?[1-9][0-9]*$/,transformation:!1,message:"请输入整型数据",trigger:"blur"}],disabled:()=>!x.submitForm1.isSplit||0!=x.submitForm1.hasSplitNum},{type:"SELECT",key:"splitUnit",label:"拆零单位",disabled:()=>!x.submitForm1.isSplit||0!=x.submitForm1.hasSplitNum,list:()=>F.getUnitList},{type:"RADIO",key:"isColdChain",label:"冷链",list:()=>F.radio,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"RADIO",key:"isSpecial",label:"含麻黄碱",list:()=>F.radio,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"blur"}]},{type:"SELECT",key:"condition",label:"存储条件",list:()=>F.conditionList,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"SELECT",key:"maintenanceType",label:"养护类型",list:()=>F.maintenanceTypeList,require:!0,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"INPUT",key:"approvalNumber",label:"批准文号"},{type:"INPUT",key:"holderPermit",label:"上市许可持有人"}]},submitForm1:{isDrug:!0,isSplit:!1,purchaseState:1,saleState:1,inputTaxRate:0,outputTaxRate:0,isColdChain:!1,isSpecial:!1,isInlet:!1,isDoubleAcceptance:!1},formData3:{span:4,labelWidth:"165px",labelPosition:"top",config:{disabled:!1},list:[{type:"SELECT",key:"saleState",label:"销售状态",list:()=>F.saleStateList,rules:[{required:!0,message:"请输入商品分类",trigger:"change"}]},{type:"SELECT",key:"purchaseState",label:"采购状态",list:()=>F.purchaseStateList},{type:"INPUT",key:"inputTaxRate",label:"进项税率",rules:[{required:!1,pattern:/^([0]|[1-9][0-9]*)$/,transformation:!1,message:"请输入整型数据",trigger:"blur"}]},{type:"INPUT",key:"outputTaxRate",label:"销项税率",rules:[{required:!1,pattern:/^([0]|[1-9][0-9]*)$/,transformation:!1,message:"请输入整型数据",trigger:"blur"}]},{type:"INPUT",key:"wholesalePrice",label:"批发价",list:()=>F.radio,rules:[{pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,4})?$/,message:"请输入正确格式,可保留4位小数",trigger:"blur"}]},{type:"INPUT",key:"maxRetailPrice",label:"最高零售价",rules:[{pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,6})?$/,message:"请输入正确格式,可保留6位小数",trigger:"blur"}]},{type:"INPUT",key:"taxIncludedPrice",label:"含税批发价"},{type:"NUMBER-INPUT",key:"number",label:"最小包装数",precision:0},{type:"DATEPICKER",key:"validPeriod",label:"批准文号有效期至"},{type:"INPUT",key:"brand",label:"品牌"},{type:"INPUT",key:"addressPermitHolder",label:"上市许可持有人地址"},{type:"DATEPICKER",key:"expireTime",label:"上市许可持有有效期至"},{type:"RADIO",key:"isInlet",label:"进口",list:()=>F.radio},{type:"RADIO",key:"isDoubleAcceptance",label:"是否双人验收",list:()=>F.radio},{type:"INPUT",key:"nativeCode",label:"本位码"},{type:"INPUT",key:"routeOfMedication",label:"用药途径"},{type:"INPUT",key:"lifeCycle",label:"使用周期",rules:[{pattern:/^([1-9]\d{0,3}\.\d{1,2}|0\.\d{0,2}||[1-9]\d{0,3})$/,message:"请输入正确格式,可保留2位小数",trigger:"blur"}]},{type:"INPUT",key:"frequency",label:"频次"},{type:"INPUT",key:"dosageEachTime",label:"每次用量"},{type:"INPUT",key:"dosageUnit",label:"剂量单位"},{type:"INPUT",key:"validDate",label:"有效天数",rules:[{required:!1,pattern:/^[0-9]\d*$/,trigger:"blur",message:"请输入整数"}]},{type:"INPUT",key:"functionIndication",label:"功能主治"}]},otherDisabled:!0,storeUuid:"",loading:!1,loading1:!1,loading2:!1,tabClose:!1,verifi:null,uuid:r.query.uuid,baseInfo:null,tableData:[],activeName:"0",pagination:{"page.currentPage":1,"page.pageSize":10,total:0},gridData:[],quickInfo:{},productList:[],reasonForm:{reason:"",productUuid:""},reasonRules:{reason:[...Ve("maxlength","申请理由",{maxlength:200,required:!0})]},credentialForms:[],tabList:[{label:"基础信息",name:"0"},{label:"辅助信息",name:"1"},{label:"资质信息",name:"2"}],page:{"page.currentPage":1,"page.pageSize":10}});const U=async()=>{x.loading=!0;try{let e=r.query.uuid;const a=await m(e);let l={};a.info.basic.number=a.info.basic.number?a.info.basic.number:void 0,l=o(o({},a.info.basic),a.info.extra),x.submitForm1=l,x.productObj1={drugAttr1:a.drugAttr1,drugBasicUuid:a.drugBasicUuid,drugInsuranceType:a.drugInsuranceType,drugManufacturer:a.drugManufacturer,drugMarkupPrice:a.drugMarkupPrice,drugName:a.drugName,drugNationalCode:a.drugNationalCode,drugSize:a.drugSize,drugStandardNo:a.drugStandardNo,drugUnit:a.drugUnit,drugEachDos:a.drugEachDos,drugSource:a.drugSource},x.productBarcodeVos=a.info.productBarcodeVos?a.info.productBarcodeVos:[],x.reasonForm=a,x.reasonForm.productUuid="see"==F.modifyStatus?a.info.basic.productUuid:a,a.drugBasicUuid&&(x.cities1=[s(o({},a),{uuid:a.drugBasicUuid})],x.product1=a.drugBasicUuid?a.drugBasicUuid:""),x.credentialForms=a.info.credential,F.disabled=!1,x.loading=!1}catch(e){return x.loading=!1,e}},w=async e=>{x.loading=!0;try{const a=await p(e);a.basic.number=a.basic.number?a.basic.number:void 0;let l=o(o(o({},a.basic),a.extra),a);x.submitForm1=l,x.productObj1={drugAttr1:a.drugAttr1,drugBasicUuid:a.drugBasicUuid,drugInsuranceType:a.drugInsuranceType,drugManufacturer:a.drugManufacturer,drugMarkupPrice:a.drugMarkupPrice,drugName:a.drugName,drugNationalCode:a.drugNationalCode,drugSize:a.drugSize,drugStandardNo:a.drugStandardNo,drugUnit:a.drugUnit,drugEachDos:a.drugEachDos,drugSource:a.drugSource,drugPrice:a.drugPrice},x.cities1=[s(o({},a),{uuid:a.drugBasicUuid})],x.product1=a.drugBasicUuid?a.drugBasicUuid:"",x.productBarcodeVos=a.productBarcodeVos,x.credentialForms=a.credential,x.loading=!1}catch(a){return x.loading=!1,a}};function P(e){x.submitForm1.category2Uuid&&(x.categoryList.forEach((a=>{a.uuid==e[0]&&a.list.forEach((l=>{l.uuid==e[1]&&(x.submitForm1.category2=a.categoryName+"/"+l.name)}))})),x.submitForm1.category2Uuid=e[1])}V((()=>{(async()=>{try{const e=await f();x.categoryList=JSON.parse(JSON.stringify(e)),x.categoryList.map((e=>{e.value=e.uuid,e.label=e.categoryName,e.children=e.list,e.children.map((e=>{e.value=e.uuid,e.label=e.name}))}))}catch(e){return e}})(),re().then((e=>{l.commit("common/DICT",e)})),R(),x.storeUuid!==r.query.uuid&&(async()=>{F.modifyStatus=r.query.modifyStatus,x.formData3.config.disabled="see"===r.query.modifyStatus,F.disabled="see"===r.query.modifyStatus,x.formData1.config.disabled="see"===r.query.modifyStatus,x.formData2.config.disabled="see"===r.query.modifyStatus,r.query.uuid?(x.storeUuid=r.query.uuid,"edit"==r.query.modifyStatus?(w(r.query.uuid),i.value.resetFields(),await O(r.query.name),x.reasonForm.productUuid=r.query.uuid,x.reasonForm.reason=""):(U(),x.activeName="0")):(x.storeUuid=void 0,x.reasonForm.productUuid="",x.reasonForm.reason="",x.submitForm1={isDrug:!0,isSplit:!1,purchaseState:1,saleState:1,inputTaxRate:0,outputTaxRate:0,isColdChain:!1,isSpecial:!1,isInlet:!1,isDoubleAcceptance:!1},x.product1="",x.cities1="",x.productObj1={drugSource:"1"},i.value.resetFields(),x.formData3.config.disabled=!x.reasonForm.productUuid,x.formData1.config.disabled=!x.reasonForm.productUuid,x.formData2.config.disabled=!x.reasonForm.productUuid,F.disabled=!x.reasonForm.productUuid,x.productBarcodeVos=[],x.credentialForms=[])})()}));const N=(e,a)=>{let l=ie.cloneDeep(a);const t=0==e?"是否暂存商品首营信息":"是否提交商品审核信息";S.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:async(a,t,i)=>{if("confirm"===a){t.confirmButtonLoading=!0,t.confirmButtonText="执行中...";let a=[];x.productBarcodeVos.forEach((e=>{e.tmCode&&a.push(e)}));let d={submit:0!=e,modify:s(o({basic:l,credential:x.credentialForms,extra:l},x.productObj1),{productBarcodeVos:a,drugBasicUuid:x.productObj1.uuid}),reason:x.reasonForm.reason,productUuid:"edit"==r.query.modifyStatus?r.query.uuid:x.reasonForm.productUuid,id:"eidt1"===r.query.modifyStatus?r.query.uuid:""};await h(d),t.confirmButtonLoading=!1,i(),x.tabClose=!0}else i()}}).catch((e=>e))},T=async()=>{try{const e=await b(x.page);x.gridData=e.list,x.pagination.total=e.totalElements}catch(e){return e}},I=e=>new Promise((a=>{e.validate((e=>{a(e)}))}));const j=async e=>{const a=await g(e);x.otherDisabled=a.deleavePackNumAll>0};const O=async e=>{let a=e.replace(/(^\s*)|(\s*$)/g,"");if(a){x.loading2=!0;let{list:e}=await y({"page.currentPage":1,"page.pageSize":100,name:a});x.productList=e,x.loading2=!1}else x.options=[]};function q(e,a){let l=s(o({type:e,keyword:a},x.selectPage),{drugType:x.productObj1.drugSource?x.productObj1.drugSource:"中药饮片"==x.submitForm1.category1?"2":"1"});c(l).then((e=>{x.cities1=e.tdata.list,e.tdata.list.length?(x.product1=e.tdata.list[0].uuid,x.productObj1=e.tdata.list[0]):(x.productObj1=s(o({},e.tdata.list[0]),{drugSource:x.drugSourceType}),x.product1="")}))}const L=e=>{x.productObj.drugSource="中药饮片"==e?"2":"1"};const R=()=>{se({name:"openMultipleStores"}).then((e=>{F.userInfo.openMultipleStores=e.value}))};return s(o(s(o({baseInfoForm:d,extraInfoForm:u},D(x)),{selectActiveName:async e=>{x.activeName=e},handleClick:function(e,a){a.splice(a,1)},goBack:function(){x.tabClose=!0},getDeleavePackNumData:j,getQuickImportData:T,handleSizeChange:function(e){x.page["page.pageSize"]=e,T()},handleCurrentChange:function(e){x.page["page.currentPage"]=e,T()},add:function(){x.credentialForms.push({expireDate:"",fileUrl:"",qualificationName:"",registrationDate:"",serialNumber:""})},handleChange:function(e,a){x.baseRuleForm.category2=a,x.baseRuleForm.category2Uuid=e},pushSubmit:async e=>{if(await I(i.value)){let a=n.value.handleClick(e);if(x.verifi=v.value.handleClick(e),a&&x.verifi){let{submitForm1:a}=x;if("0"===x.activeName){if(x.submitForm1.isSplit&&(!a.conversionRatio||!a.splitUnit))return void k.error("转换比和拆零单位不能为空！");if(0==a.retailPrice||!a.retailPrice)return void k.error("零售价不能为空且大于0")}(async(e,a)=>{1==(await E({productUuid:x.reasonForm.productUuid,barcode:a.barCode,isFirst:0})).isDistinct?S.confirm("该商品条码已有商品使用，是否继续提交？","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning",center:!0,beforeClose:async(l,t,r)=>{"confirm"===l?(r(),N(e,a)):r()}}).catch((e=>e)):N(e,a)})(e,a)}}},reasonInfoForm:i,verificationReasonForm:I,chooseProduct:function(e){x.formData3.config.disabled=!x.reasonForm.productUuid,x.formData1.config.disabled=!x.reasonForm.productUuid,x.formData2.config.disabled=!x.reasonForm.productUuid,F.disabled=!x.reasonForm.productUuid,x.reasonForm.productUuid=e,w(e),j({productUuid:e})},selectCommodityDetailsData:w,handleChangeImg:function(e,a){x.credentialForms[a].fileUrl=e},handlePictureCardRemove:function(e){x.credentialForms[e].fileUrl=""},remoteMethod:O,remoteMethod1:function(e){let a=e.replace(/(^\s*)|(\s*$)/g,"");a?(x.loading1=!0,setTimeout((()=>{x.loading1=!1,q(3,a)}),1e3)):x.options=[]},productChange:function(){let e=ie.find(x.cities,{uuid:x.product});x.productObj=e}}),D(F)),{selectCategory:P,productChange1:()=>{let e=ie.find(x.cities1,{uuid:x.product1});x.productObj1=e},editForm:n,editForm1:v,setList:q,getModifyProductDetailsData:U,selectCategoryMenuData:e=>{x.product1="",x.drugSourceType=e,q("3",x.submitForm1.productName)},commoditySelectData:L,drugInsuranceTypeData:e=>e&&e.indexOf("甲")>=0?"甲":e&&e.indexOf("乙")>=0?"乙":e&&e.indexOf("丙")>=0?"丙":""})}},Ma=e=>(H("data-v-0b69a148"),e=e(),W(),e),Ba={class:"commodity_edit"},$a={class:"main"},Aa=[Ma((()=>R("span",{class:"commodity-title"},"商品修改单详情",-1)))],za=z(" 提交审核 "),Ja={class:"content"},Ya={style:{"border-bottom":"1px solid #e4e7ed"}},Ha=Ma((()=>R("div",{class:"space-list"},[R("div",{class:"space",style:{width:"80px"}},"编号"),R("div",{class:"space",style:{width:"150px"}},"商品名称"),R("div",{class:"space",style:{width:"150px"}},"规格"),R("div",{class:"space",style:{width:"50px"}},"单位"),R("div",{class:"space",style:{width:"180px"}},"生产厂家")],-1))),Wa={class:"space-list"},Xa={class:"space",style:{width:"80px"}},Ka={class:"space",style:{width:"150px"}},Ga={class:"space",style:{width:"150px"}},Qa={class:"space",style:{width:"50px"}},Za={class:"space",style:{width:"180px"}},el={class:"code-list"},al=Ma((()=>R("div",{class:"d1"},"医保对码(国)",-1))),ll={style:{"margin-left":"16px","margin-top":"10px","margin-bottom":"10px"}},tl={class:"d2"},rl={class:"classify-select"},il={key:0,class:"medical-select"},dl=Ma((()=>R("div",{class:"space-list"},[R("div",{class:"space",style:{width:"150px"}}," 商品名称 "),R("div",{class:"space",style:{width:"150px"}}," 规格 "),R("div",{class:"space",style:{width:"150px"}}," 最小包装数量 "),R("div",{class:"space",style:{width:"50px"}}," 单位 "),R("div",{class:"space",style:{width:"180px"}}," 生产厂家 ")],-1))),ol={class:"space-list"},sl={class:"space",style:{width:"150px"}},ul={class:"space",style:{width:"150px"}},nl={class:"space",style:{width:"150px"}},cl={class:"space",style:{width:"50px"}},ml={class:"space",style:{width:"180px"}},pl={key:1,class:"medical-select"},bl=Ma((()=>R("div",{class:"space-list"},[R("div",{class:"space",style:{width:"150px"}}," 中草药名称 "),R("div",{class:"space",style:{width:"150px"}}," 常规用法 "),R("div",{class:"space",style:{width:"150px"}}," 国家编码 "),R("div",{class:"space",style:{width:"50px"}}," 省级医保支付政策 "),R("div",{class:"space",style:{width:"180px"}}," 主治功能 ")],-1))),gl={class:"space-list"},yl={class:"space",style:{width:"150px"}},fl={class:"space",style:{width:"150px"}},hl={class:"space",style:{width:"150px"}},vl={class:"space",style:{width:"50px"}},Fl={class:"space",style:{width:"180px"}},kl={style:{"font-size":"14px","margin-left":"10px"}},Sl={style:{"font-size":"12px","margin-top":"6px"}},xl={class:"c1"},Ul={class:"t1"},wl={class:"c2"},El={class:"t1"},Pl={class:"c2"},Nl={class:"t1"},Cl={style:{"margin-top":"10px",color:"#909399"}},_l={class:"tooltip-usage-tips"},Tl={class:"usage-tips"};var Vl=N(Ra,[["render",function(e,a,l,t,r,i){const d=I("el-button"),o=I("el-input"),s=I("el-form-item"),c=I("el-option"),m=I("el-select"),p=I("el-form"),b=u,g=I("el-tooltip"),y=I("el-tab-pane"),f=I("extra-info"),h=I("credential-info"),v=I("el-tabs"),F=n,k=I("el-scrollbar"),S=G("loading");return j(),O("div",Ba,[q(k,null,{default:L((()=>[Q(R("div",$a,[q(F,{close:e.tabClose,route:{path:"/commodity-manage/goods-edit"}},{header:L((()=>[R("div",{style:{cursor:"pointer"},onClick:a[0]||(a[0]=(...e)=>t.goBack&&t.goBack(...e))},Aa),R("div",null,["see"!=e.modifyStatus?(j(),B(d,{key:0,size:"small",type:"primary",onClick:a[1]||(a[1]=e=>t.pushSubmit(1))},{default:L((()=>[za])),_:1})):Y("",!0)])])),default:L((()=>[R("div",Ja,[R("div",Ya,[q(p,{ref:"reasonInfoForm",model:e.reasonForm,rules:e.reasonRules,"label-width":"155px"},{default:L((()=>[R("div",null,[q(s,{label:"申请理由",prop:"reason"},{default:L((()=>[q(o,{modelValue:e.reasonForm.reason,"onUpdate:modelValue":a[2]||(a[2]=a=>e.reasonForm.reason=a),disabled:"see"==e.modifyStatus,rows:2,maxlength:"200",placeholder:"请输入申请理由，不超过200字","show-word-limit":"",size:"small",style:{width:"420px"},type:"textarea"},null,8,["modelValue","disabled"])])),_:1}),q(s,{rules:[{required:!0,message:"请输入商品名称",trigger:"blur"}],label:"商品名称",prop:"productUuid"},{default:L((()=>[q(m,{modelValue:e.reasonForm.productUuid,"onUpdate:modelValue":a[3]||(a[3]=a=>e.reasonForm.productUuid=a),disabled:"see"==e.modifyStatus,loading:e.loading2,"remote-method":t.remoteMethod,filterable:"",placeholder:"编码/品名/助记码/条形码",remote:"",size:"small",style:{width:"224px"},onChange:t.chooseProduct},{default:L((()=>[e.productList.length?(j(),B(c,{key:0,disabled:"",label:"-999",value:"-999"},{default:L((()=>[Ha])),_:1})):Y("",!0),(j(!0),O($,null,A(e.productList,(e=>(j(),B(c,{key:e.productUuid,label:e.productName,value:e.uuid},{default:L((()=>[R("div",Wa,[R("div",Xa,M(e.code),1),R("div",Ka,M(e.productName),1),R("div",Ga,M(e.specification),1),R("div",Qa,M(e.unit),1),R("div",Za,M(e.manufacturer),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","disabled","loading","remote-method","onChange"])])),_:1})])])),_:1},8,["model","rules"])]),q(v,{modelValue:e.activeName,"onUpdate:modelValue":a[16]||(a[16]=a=>e.activeName=a),style:{"margin-top":"30px"}},{default:L((()=>[q(y,{label:"基础信息",name:"0",style:{"margin-top":"30px"}},{default:L((()=>["1"==e.userInfo.openMultipleStores?(j(),B(b,{key:0,ref:"editForm","form-data":e.formData1,"onUpdate:form-data":a[4]||(a[4]=a=>e.formData1=a),"submit-form":e.submitForm1,"onUpdate:submit-form":a[5]||(a[5]=a=>e.submitForm1=a),stayleConfig:e.stayleConfig},null,8,["form-data","submit-form","stayleConfig"])):(j(),B(b,{key:1,ref:"editForm","form-data":e.formData2,"onUpdate:form-data":a[6]||(a[6]=a=>e.formData2=a),"submit-form":e.submitForm1,"onUpdate:submit-form":a[7]||(a[7]=a=>e.submitForm1=a),stayleConfig:e.stayleConfig},null,8,["form-data","submit-form","stayleConfig"])),R("div",el,[al,R("div",ll,[R("div",tl,[R("div",null,[q(o,{style:{width:"340px"},size:"small",disabled:"see"===e.modifyStatus||!e.reasonForm.productUuid},{prepend:L((()=>[R("div",rl,[q(m,{modelValue:e.productObj1.drugSource,"onUpdate:modelValue":a[8]||(a[8]=a=>e.productObj1.drugSource=a),placeholder:"请选择",style:{width:"120px"},disabled:"see"===e.modifyStatus,onChange:t.selectCategoryMenuData},{default:L((()=>[(j(!0),O($,null,A(e.categoryMenuList,(e=>(j(),B(c,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue","disabled","onChange"])])])),suffix:L((()=>["1"==e.productObj1.drugSource?(j(),O("div",il,[q(m,{modelValue:e.product1,"onUpdate:modelValue":a[9]||(a[9]=a=>e.product1=a),placeholder:"请选择","remote-method":t.remoteMethod1,loading:e.loading,filterable:"",remote:"",onChange:a[10]||(a[10]=a=>t.productChange1(e.product)),disabled:"see"===e.modifyStatus||!e.reasonForm.productUuid},{default:L((()=>[e.cities1.length?(j(),B(c,{key:0,disabled:"",label:"-999",value:"-999"},{default:L((()=>[dl])),_:1})):Y("",!0),(j(!0),O($,null,A(e.cities1,((a,l)=>(j(),B(c,{key:a.idx,label:a.drugName,value:a.uuid,disabled:!(e.cities1.length>0)},{default:L((()=>[R("div",ol,[R("div",sl,M(a.drugName),1),R("div",ul,M(a.drugSize),1),R("div",nl,M(a.drugMinPacCnt),1),R("div",cl,M(a.drugUnit),1),R("div",ml,M(a.drugManufacturer),1)])])),_:2},1032,["label","value","disabled"])))),128))])),_:1},8,["modelValue","remote-method","loading","disabled"])])):(j(),O("div",pl,[q(m,{modelValue:e.product1,"onUpdate:modelValue":a[11]||(a[11]=a=>e.product1=a),placeholder:"请选择","remote-method":t.remoteMethod1,loading:e.loading,filterable:"",remote:"",onChange:a[12]||(a[12]=a=>t.productChange1(e.product)),disabled:"see"===e.modifyStatus||!e.reasonForm.productUuid},{default:L((()=>[e.cities1.length?(j(),B(c,{key:0,disabled:"",label:"-999",value:"-999"},{default:L((()=>[bl])),_:1})):Y("",!0),(j(!0),O($,null,A(e.cities1,((a,l)=>(j(),B(c,{key:a.idx,label:a.drugName,value:a.uuid,disabled:!(e.cities1.length>0)},{default:L((()=>[R("div",gl,[R("div",yl,M(a.drugName),1),R("div",fl,M(a.eachDos),1),R("div",hl,M(a.medListCodg),1),R("div",vl,M(a.provHiPayPol),1),R("div",Fl,M(a.efccAtd),1)])])),_:2},1032,["label","value","disabled"])))),128))])),_:1},8,["modelValue","remote-method","loading","disabled"])]))])),_:1},8,["disabled"]),R("span",kl,M(0==e.productObj1.drugAttr1?0:e.productObj1.drugAttr1?e.productObj1.drugAttr1:"-"),1),R("div",Sl,M(0==e.productObj1.drugSize?0:e.productObj1.drugSize?e.productObj1.drugSize:"-")+"/"+M(0==e.productObj1.drugUnit?0:e.productObj1.drugUnit?e.productObj1.drugUnit:"-")+"/"+M(0==e.productObj1.drugManufacturer?0:e.productObj1.drugManufacturer?e.productObj1.drugManufacturer:"-"),1)]),R("div",xl,[R("div",Ul," 国家编码："+M(0==e.productObj1.drugNationalCode?0:e.productObj1.drugNationalCode?e.productObj1.drugNationalCode:"-"),1),R("div",null," 准字："+M(0==e.productObj1.drugStandardNo?0:e.productObj1.drugStandardNo?e.productObj1.drugStandardNo:"-"),1)]),R("div",wl,[R("div",El," 支付标准："+M(e.productObj1.drugPrice?e.productObj1.drugPrice:"-"),1),R("div",null," 商品等级："+M(0==e.productObj1.drugInsuranceType?0:t.drugInsuranceTypeData(e.productObj1.drugInsuranceType)?t.drugInsuranceTypeData(e.productObj1.drugInsuranceType):"-"),1)]),R("div",Pl,[R("div",Nl," 加价支付标准："+M(99999999==e.productObj1.drugMarkupPrice||999999999==e.productObj1.drugMarkupPrice||999999==e.productObj1.drugMarkupPrice||99999==e.productObj1.drugMarkupPrice||100000199==e.productObj1.drugMarkupPrice||0==e.productObj1.drugMarkupPrice?"-":e.productObj1.drugMarkupPrice?e.productObj1.drugMarkupPrice:"-"),1),R("div",null," 医保处方类型："+M(e.productObj1.drugOtcFlag?e.drugOtcFlag[e.productObj1.drugOtcFlag]:"-"),1)])]),R("div",Cl,[q(g,{class:"item",effect:"dark",disabled:!e.productObj1.drugEachDos,placement:"top-start"},{content:L((()=>[R("div",_l,M(0==e.productObj1.drugEachDos?0:e.productObj1.drugEachDos?e.productObj1.drugEachDos:"-"),1)])),default:L((()=>[R("div",Tl," 用法："+M(0==e.productObj1.drugEachDos?0:e.productObj1.drugEachDos?e.productObj1.drugEachDos:"-"),1)])),_:1},8,["disabled"])])])]),q(b,{ref:"editForm1","form-data":e.formData3,"onUpdate:form-data":a[13]||(a[13]=a=>e.formData3=a),"submit-form":e.submitForm1,"onUpdate:submit-form":a[14]||(a[14]=a=>e.submitForm1=a),stayleConfig:e.stayleConfig,style:{"margin-top":"16px"}},null,8,["form-data","submit-form","stayleConfig"])])),_:1}),q(y,{label:"条码管理",name:"1",style:{"margin-top":"30px"}},{default:L((()=>[q(f,{ref:"extraInfoForm",productBarcodeVos:e.productBarcodeVos,"onUpdate:productBarcodeVos":a[15]||(a[15]=a=>e.productBarcodeVos=a),credentialStatus:e.modifyStatus,reasonForm:e.reasonForm,status:e.modifyStatus},null,8,["productBarcodeVos","credentialStatus","reasonForm","status"])])),_:1}),q(y,{label:"资质信息",name:"2",style:{"margin-top":"30px"}},{default:L((()=>[q(h,{credentialStatus:e.modifyStatus,disabled:e.disabled,reasonForm:e.reasonForm,ruleForm:e.credentialForms,onAdd:t.add,onHandleChangeImg:t.handleChangeImg,onHandlePictureCardRemove:t.handlePictureCardRemove},null,8,["credentialStatus","disabled","reasonForm","ruleForm","onAdd","onHandleChangeImg","onHandlePictureCardRemove"])])),_:1})])),_:1},8,["modelValue"])])])),_:1},8,["close"])],512),[[S,e.loading]])])),_:1})])}],["__scopeId","data-v-0b69a148"]]);export{Vl as default};
