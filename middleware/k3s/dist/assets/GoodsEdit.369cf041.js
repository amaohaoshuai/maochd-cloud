var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o;import{_ as l}from"./BaseStencil.46c3d678.js";import{G as n,e as d,S as m,B as p,J as c,Q as u,j as b,D as f,n as y,t as j,o as h,a5 as v,w as g}from"./@vue.23a4bd1a.js";import{s as k,r as w,_ as C}from"./index.ab904951.js";import"./element-plus.b44d97a8.js";import{_ as S}from"./BaseName.1aa32b4b.js";import{f as x}from"./index.6a02aeaf.js";import{u as O}from"./vue-router.91336ba9.js";import{g as P}from"./index.41a8010a.js";import"./BaseForm.bc55ad6b.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./BaseTable.36f55649.js";import"./sortablejs.621e50ab.js";import"./vuex.c868d4e0.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./axios.7b768d2b.js";import"./default-passive-events.74004992.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";/* empty css                                                             */const{status:T}=k.state.common,I=["name","specification","unit","manufacturer"];function D(e){const t={columns:[{type:"index",title:"序号",formConfig:{width:50}},{title:"申请单编号",key:"id",width:180},{title:"商品编码",key:"productCode",width:80},{title:"商品名称/规格/单位/生产厂家",key:"name",width:256,render:e=>n(S,{row:e,list:I})},{title:"申请人",key:"applierName",width:200},{title:"申请理由",key:"reason"},{title:"申请时间",key:"applyTime",width:180},{title:"审核状态",key:"state",render:(e,t,a,o)=>n("div",T[e.state]),width:120},{title:"操作",key:"c",width:180,render:(e,t,o,i)=>[d(p("el-button"),{type:"text",onClick:t=>{a(t,"c",e,"see")}},{default:()=>[m("查看")]}),c(d(p("el-button"),{type:"text",onClick:t=>{a(t,"c",e,"edit1")}},{default:()=>[m("编辑")]}),[[u,0==e.state]]),c(d(p("el-button"),{type:"text",onClick:t=>{a(t,"c",e,"apply")}},{default:()=>[m("重新发起")]}),[[u,3==e.state]])]}],formConfig:{"show-overflow-tooltip":!0}},a=(e,t,a,o)=>{w.push({name:"AddAndEditModifyInfo",query:{uuid:a.id,modifyStatus:o}})};return{form:{inline:!0,labelWidth:"100px",list:[{type:"INPUT",key:"id",placeholder:"请输入申请单编号"},{type:"INPUT",key:"key",placeholder:"编码/品名/助记码/条码"},{type:"SELECT",key:"state",props:{label:"label",value:"value"},placeholder:"请选择审核状态",list:()=>[{label:"审核中",value:1},{label:"审核通过",value:2},{label:"审核拒绝",value:3}]}]},tableConfig:t}}var F={name:"GoodsEdit",components:{BaseStencil:l},setup(e,l){const n=O(),d=b({tableData:[],deepSearchTable:D(),submitForm:{"page.currentPage":1,"page.pageSize":10}}),m=async()=>{let e=d.submitForm;try{const t=await x(e);d.submitForm.pageNumber=t.currentPage,d.tableData=t.list,d.tableData.map((e=>{e.name=e.productName})),d.submitForm.total=t.totalElements}catch(t){return t}};f((()=>{m()})),y((()=>{p()}));const p=()=>{P(d.submitForm).then((e=>{k.commit("common/DICT",e)}))};return c=((e,t)=>{for(var a in t||(t={}))i.call(t,a)&&s(e,a,t[a]);if(o)for(var a of o(t))r.call(t,a)&&s(e,a,t[a]);return e})({},j(d)),t(c,a({modifyProductListData:m,addGoodsModifyInfo:function(){n.push({name:"AddAndEditModifyInfo",query:{modifyStatus:"add"}})},handleClick:({item:e,type:t})=>{"dblclick"===t&&n.push({name:"AddAndEditModifyInfo",query:{uuid:e.id,modifyStatus:"see"}})}}));var c}};const _={class:"supplier"},E=m("新增商品信息修改单");var B=C(F,[["render",function(e,t,a,o,i,r){const s=p("el-button"),n=l;return h(),v("div",_,[d(n,{"form-data":e.deepSearchTable.form,"submit-form":e.submitForm,"onUpdate:submit-form":t[0]||(t[0]=t=>e.submitForm=t),class:"base-stencil","table-data":e.tableData,columns:e.deepSearchTable.tableConfig.columns,pagination:e.submitForm,"form-config":e.deepSearchTable.tableConfig.formConfig,draggable:!1,options:!0,"option-show":!1,select:o.modifyProductListData,onOnClick:o.handleClick},{buttons:g((()=>[d(s,{type:"primary",onClick:o.addGoodsModifyInfo,size:"small"},{default:g((()=>[E])),_:1},8,["onClick"])])),_:1},8,["form-data","submit-form","table-data","columns","pagination","form-config","select","onOnClick"])])}],["__scopeId","data-v-5f3a6736"]]);export{B as default};
