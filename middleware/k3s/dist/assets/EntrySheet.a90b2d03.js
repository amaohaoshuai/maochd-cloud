var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,n=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))s.call(t,a)&&i(e,a,t[a]);return e},p=(e,r)=>t(e,a(r));import{_ as m}from"./EditForm.8c35f1a6.js";import{_ as l}from"./BaseTable.36f55649.js";import{_ as d}from"./BaseCard.46de0c24.js";import{r as c}from"./index.817e3859.js";import{b as u,u as b}from"./vue-router.91336ba9.js";import{j as f,e as y,S as j,B as g,D as v,t as h,o as k,c as x,w as _,v as O,a9 as S,aa as w,a6 as P}from"./@vue.23a4bd1a.js";import{_ as q}from"./index.ab904951.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./sortablejs.621e50ab.js";import"./vuex.c868d4e0.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./public.9c1d8f39.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";var z={components:{BaseTable:l},name:"EntrySheet",setup(){const e=u(),t=b(),a=f({close:!1,go:{path:"/storage/inventory"},formData:{labelWidth:"90px",span:8,fixedText:":",list:[{label:"盘点任务单号",type:"DIV",key:"inventoryNo"},{label:"门店",type:"DIV",key:"business"}]},pagination:{"page.currentPage":1,"page.pageSize":10,inventoryUuid:e.query.uuid},submitForm:{},columns:[{title:"序号",type:"index",formConfig:{width:50}},{title:"盘点录入单号",key:"recordNo"},{title:"创建人",key:"createUser"},{title:"制单时间",key:"createTime"},{title:"操作",key:"options",render:a=>y(g("el-button"),{type:"text",onClick:()=>{t.push({path:"/storage/inventory-entry-sheet-detail",query:p(n({},e.query),{id:a.uuid})})}},{default:()=>[j("查看")]})}],data:[],status:["1","2"],accountState:-1}),r=async()=>{let{totalCount:e,list:t}=await c(a.pagination);a.data=t,a.pagination.total=e};return v((()=>{a.submitForm=e.query,a.accountState=e.query.accountState.toString(),r()})),p(n({},h(a)),{add:()=>{t.push({path:"/storage/inventory-add-entry-sheet",query:e.query})},getRecordPage:r})}};const C=(e=>(S("data-v-bfe574c8"),e=e(),w(),e))((()=>P("div",{class:"title"},"盘点录入单",-1))),D=j(" 新增录入单 ");var F=q(z,[["render",function(e,t,a,r,o,s){const i=m,n=g("el-button"),p=l,c=d;return k(),x(c,{close:e.close,route:e.go,class:"entry-sheet"},{header:_((()=>[C])),top:_((()=>[y(i,{"form-data":e.formData,"submit-form":e.submitForm,"onUpdate:submit-form":t[0]||(t[0]=t=>e.submitForm=t),ref:"editForm"},null,8,["form-data","submit-form"])])),default:_((()=>[y(p,{columns:e.columns,"table-data":e.data,pagination:e.pagination,select:r.getRecordPage},{buttons:_((()=>[e.status.includes(e.accountState)?O("",!0):(k(),x(n,{key:0,size:"medium",type:"primary",onClick:r.add},{default:_((()=>[D])),_:1},8,["onClick"]))])),_:1},8,["columns","table-data","pagination","select"])])),_:1},8,["close","route"])}],["__scopeId","data-v-bfe574c8"]]);export{F as default};
