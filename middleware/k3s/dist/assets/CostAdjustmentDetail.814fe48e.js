var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o;import{_ as l}from"./EditForm.8c35f1a6.js";import{_ as d}from"./BaseTable.36f55649.js";import{_ as m}from"./BaseCard.46de0c24.js";import{_ as n}from"./BaseName.1aa32b4b.js";import{b as p}from"./vue-router.91336ba9.js";import{b as c}from"./index.85dcfec4.js";import{u as f}from"./vuex.c868d4e0.js";import{j as u,e as b,D as j,t as y,B as v,o as h,c as g,w as k,a6 as w,a9 as x,aa as D}from"./@vue.23a4bd1a.js";import{_ as N}from"./index.ab904951.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./sortablejs.621e50ab.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./public.9c1d8f39.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";/* empty css                                                             */import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";var P={name:"CostAdjustmentDetail",setup(){let e=p(),l=f(),d=u({baseNameList:["name","specification","unit","manufacturer"],index:0,editForm:null,baseTable:null,close:!1,go:{path:"/commodity-manage/cost-adjustment"},config:{size:"medium"},formInfo:{labelWidth:"120px",span:8,list:[{label:"调整单编号：",type:"DIV",key:"tzNo"},{label:"创建人:",type:"DIV",key:"creator"},{label:"创建时间：",type:"DIV",key:"createTime"},{label:"门店：",type:"DIV",key:"business"},{label:"备注:",type:"DIV",key:"remark"}]},info:{user:l.state.common.info.userName},columns:[{title:"序号",type:"index",fixed:"left",formConfig:{width:50}},{title:"商品编码",key:"productCode",width:150,fixed:"left"},{title:"商品名称/规格/单位/生产厂家",width:300,fixed:"left",render:e=>b(n,{row:e},null)},{title:"库存数量",key:"overallPackNum",width:150,render:e=>`${(e.overallPackNum||0===e.overallPackNum?e.overallPackNum+e.unit:" ")+(e.deleavePackNum?e.deleavePackNum+e.splitUnit:" ")}`},{title:"原成本单价",key:"oldCost",width:100,align:"right"},{title:"新成本单价",key:"newCost",width:100,align:"right"},{title:"成本单价差价",key:"costDiff",width:120,align:"right"},{title:"原库存金额",key:"oldTotalCost",width:100,align:"right"},{title:"新库存金额",key:"newTotalCost",width:100,align:"right"},{title:"毛利率",key:"grossMargin",width:100,align:"right"}],data:[]});const m=async e=>{c({uuid:e}).then((e=>{d.info=e,e.adjustCostDetailVos.forEach((e=>{e.name=e.productName})),d.data=e.adjustCostDetailVos}))};return j((()=>{let{query:t}=e;m(t.uuid)})),v=((e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(o)for(var a of o(t))s.call(t,a)&&i(e,a,t[a]);return e})({},y(d)),t(v,a({getDetail:m}));var v}};const _=e=>(x("data-v-b51de7a6"),e=e(),D(),e),C=_((()=>w("div",{class:"title"},"查看成本调整单",-1))),I={class:"top-content"},O={class:"main"},T=_((()=>w("div",{class:"tit"},"商品信息",-1)));var V=N(P,[["render",function(e,t,a,o,r,s){const i=l,n=d,p=v("el-scrollbar"),c=m;return h(),g(c,{class:"detail-view",close:e.close,route:e.go,backTips:!1},{header:k((()=>[C])),top:k((()=>[w("div",I,[b(i,{"form-data":e.formInfo,"onUpdate:form-data":t[0]||(t[0]=t=>e.formInfo=t),"submit-form":e.info,"onUpdate:submit-form":t[1]||(t[1]=t=>e.info=t),ref:"editForm"},null,8,["form-data","submit-form"])])])),default:k((()=>[b(p,null,{default:k((()=>[w("div",O,[T,b(n,{class:"select-table",columns:e.columns,"table-data":e.data,"fixed-head":!1,ref:"baseTable","option-show":!1},null,8,["columns","table-data"])])])),_:1})])),_:1},8,["close","route"])}],["__scopeId","data-v-b51de7a6"]]);export{V as default};
