var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{_ as s}from"./lodash.d7ab6f48.js";import{_ as n}from"./index.ab904951.js";import{j as i,h as d,t as r,B as p,o as u,a5 as y,v as c,e as b,w as f,c as g,F as h,N as m,ab as v,z as C,a8 as j,x as O}from"./@vue.23a4bd1a.js";const k={props:{top:{type:Object,default:()=>({"margin-top":"16px"})},options:{type:Array,default:()=>[]},head:{type:Array,default:()=>[]},disabled:{type:Boolean,default:()=>!1},placeholder:{type:String,default:()=>"请输入"},keys:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})},design:{type:Object,default:()=>({width:"350px"})},config:{type:Object,default:()=>({})},icon:{type:Boolean,default:()=>!0},tableData:{type:Array,default:()=>[]},ifDis:{type:Boolean,default:()=>!0},disabledKey:{type:String,default:()=>"uuid"},optionsClass:{type:String,default:()=>""},loading:Boolean,styleEnum:{type:[Object,Array],default:()=>({})}},emits:["onInput","onChange","onVisibleChange","update:loading","clear","update:options"],setup(e,{emit:n}){const p=i({value:"",setTime:null,text:"-9999",loading:!1,defaultFirstOption:!0,onlySelect:null});return((e,s)=>{for(var n in s||(s={}))l.call(s,n)&&o(e,n,s[n]);if(a)for(var n of a(s))t.call(s,n)&&o(e,n,s[n]);return e})({handleChange:a=>{let l={};l[e.props.value]=a;let t=s.find(e.options,l);n("onChange",t)},remoteMethod:async a=>{void 0!==e.loading&&n("update:loading",!0);let l=a.replace(/(^\s*)|(\s*$)/g,"");l?(p.setTime&&clearTimeout(p.setTime),p.setTime=setTimeout((()=>{n("onInput",l)}),500)):(void 0!==e.loading&&n("update:loading",!1),n("clear"))},handleVisibleChange:e=>{n("onVisibleChange",e),n("update:options",[])},header:d((()=>e.head.length&&e.options.length)),isDisabled:(a,l)=>{let t=!1;return e.tableData.forEach((o=>{l===o[a]&&(t=e.ifDis)})),t},ending:()=>{p.onlySelect.blur(),n("update:loading",!1)},starting:()=>{p.onlySelect.focus()}},r(p))}},x={key:0,class:"el-icon-plus"};var S=n(k,[["render",function(e,a,l,t,o,s){const n=p("el-option"),i=p("el-select");return u(),y("div",{style:v(l.top)},[l.icon?(u(),y("i",x)):c("",!0),b(i,O({ref:"onlySelect",style:l.design,"default-first-option":e.defaultFirstOption,filterable:"",remote:"","reserve-keyword":"",placeholder:l.placeholder,disabled:l.disabled,"remote-method":t.remoteMethod,onChange:t.handleChange,onVisibleChange:t.handleVisibleChange,"model-value":e.value,size:"small"},l.config,{"popper-class":"select-input-v2",loading:l.loading}),{default:f((()=>[t.header?(u(),g(n,{key:0,class:"head",disabled:!0,label:e.text,value:e.text},{default:f((()=>[(u(!0),y(h,null,m(l.head,((e,a)=>(u(),y("span",{key:a,class:"span",style:v(l.styleEnum[a]||{})},C(e),5)))),128))])),_:1},8,["label","value"])):c("",!0),(u(!0),y(h,null,m(l.options,(e=>(u(),g(n,{key:e[l.props.value],label:e[l.props.label],value:e[l.props.value],class:j(l.optionsClass),disabled:l.tableData.length>0&&t.isDisabled(l.disabledKey,e[l.disabledKey])},{default:f((()=>[(u(!0),y(h,null,m(l.keys,((a,t)=>(u(),y("span",{key:a,class:"span",style:v(l.styleEnum[t]||{})},C(e[a]||"-"),5)))),128))])),_:2},1032,["label","value","class","disabled"])))),128))])),_:1},16,["style","default-first-option","placeholder","disabled","remote-method","onChange","onVisibleChange","model-value","loading"])],4)}],["__scopeId","data-v-3001174f"]]);export{S as _};
