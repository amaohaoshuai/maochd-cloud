var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,i=(e,i)=>{for(var s in i||(i={}))a.call(i,s)&&o(e,s,i[s]);if(t)for(var s of t(i))r.call(i,s)&&o(e,s,i[s]);return e};import{_ as s}from"./BaseForm.bc55ad6b.js";import{_ as l}from"./BaseTable.36f55649.js";import{_ as n}from"./previewImage.3faea4af.js";import{_ as p}from"./BaseCard.46de0c24.js";import{b as m}from"./vue-router.91336ba9.js";import"./element-plus.b44d97a8.js";import{n as d}from"./RetailReport.1533bc91.js";import{_ as u}from"./BaseName.1aa32b4b.js";import{_ as b}from"./index.ab904951.js";import{j as f,G as y,D as c,t as g,o as A,a5 as j,e as v,w as D,a6 as k,c as w,a9 as T,aa as B}from"./@vue.23a4bd1a.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./sortablejs.621e50ab.js";import"./vuex.c868d4e0.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./public.9c1d8f39.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";import"./axios.7b768d2b.js";/* empty css                                                             */import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";const x={name:"PrescriptionManagementDetails",components:{PreviewImage:n},setup(e,t){let a=f({tableData:[]});const r=m(),o=["productName","specification","unit","manufacturer"],s={self:"本人",spouse:"配偶",children:"子女",parents:"父母",friend:"朋友",other:"其他"},l=f({uuid:r.query.uuid,submitForm:{},tabClose:!1,formConfig:{},optionShow:!1,storeUuid:void 0,columns:[{type:"index",title:"序号",fixed:"left",width:50},{title:"商品名称/规格/单位/生产厂家",key:"name",render:e=>y(u,{row:e,list:o})},{title:"用法用量",key:"usageText"},{title:"开方数量",key:"num",render:e=>e.num+e.unit}],columns1:[{type:"index",title:"序号",fixed:"left",width:50},{title:"商品名称/规格/单位/生产厂家",key:"name",render:e=>y(u,{row:e,list:o})},{title:"开方数量",key:"num",render:e=>e.num+e.unit}],formData:{inline:!0,labelWidth:"150px",list:[{span:8,label:"会员ID：",type:"DIV",key:"memberId"},{span:8,label:"会员手机号：",type:"DIV",key:"memberPhone"},{span:8,label:"会员姓名：",type:"DIV",key:"memberName"}]},formData1:{inline:!0,labelWidth:"150px",list:[{span:8,label:"处方单号：",type:"DIV",key:"prescriptionNo"},{span:8,label:"处方号：",type:"DIV",key:"hospitalPrescriptionNo"},{span:8,label:"开方医生：",type:"DIV",key:"prescriptionDoctor"},{span:8,label:"开方时间：",type:"DIV",key:"createTime"},{span:8,label:"审方药师：",type:"DIV",key:"auditDoctor"}]},formData2:{inline:!0,labelWidth:"150px",list:[{span:8,label:"姓名：",type:"DIV",key:"name"},{span:8,label:"购买人关系：",type:"TEMP",key:"relation",render:e=>s[e.relation]},{span:8,label:"手机号：",type:"DIV",key:"phone"},{span:8,label:"性别：",type:"TEMP",key:"gender",render:e=>s[e.relation]},{span:8,label:"年龄：",type:"DIV",key:"age"},{span:8,label:"身份证号：",type:"DIV",key:"certNo"},{span:8,label:"是否复诊：",type:"TEMP",key:"inquiryType",render:e=>e.inquiryType&&0!==e.inquiryType?"是":"否"},{span:8,label:"肝/肾功能：",type:"TEMP",key:"liverAndKidney",render:e=>e.liverAndKidney&&0!==e.liverAndKidney?"异常":"正常"},{span:8,label:"备孕/怀孕/哺乳期：",type:"TEMP",key:"fertility",render:e=>e.fertility&&0!==e.fertility?"是":"否"},{span:8,label:"手术/外伤史：",type:"TEMP",key:"trauma",render:e=>e.trauma?e.trauma.toString():"无"},{span:8,label:"过敏史：",type:"TEMP",key:"allergy",render:e=>e.allergy?e.allergy.toString():"无"},{span:8,label:"是否首次用药：",type:"TEMP",key:"useDrug",render:e=>0===e.useDrug?"否":"是"},{span:8,label:"病情诊断：",type:"TEMP",key:"inquiryResult",render:e=>e.inquiryResult?e.inquiryResult.toString():"-"}]}});return c((()=>{let{query:e}=r;var t;l.uuid=e.uuid,l.uuid===e.uuid&&e.uuid&&(t=e.uuid,d(t).then((e=>{l.submitForm=i(i({},e.prescriptionVo),e.relationVo),a.tableData=e.prescriptionVo.prescriptionProductVos})))})),i(i({},g(l)),g(a))}},h=e=>(T("data-v-bf08ddc6"),e=e(),B(),e),N={class:"prescription-detail formItem-noMargin"},V=h((()=>k("span",{style:{"font-size":"16px"}},"处方管理详情",-1))),E={class:"top-content"},F=h((()=>k("div",{class:"title"},"会员信息",-1))),P=h((()=>k("div",{class:"title"},"处方信息",-1))),C=h((()=>k("div",{class:"title"},"患者信息",-1))),S=h((()=>k("div",{class:"title"},"商品信息",-1))),I=h((()=>k("div",{class:"title",style:{"margin-top":"22px"}},"处方预览",-1))),R={key:0},U={class:"image-upload-img"},O={key:1},M=[h((()=>k("img",{style:{width:"100px",height:"100px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAE20lEQVR4Xu3cT2gcdRQH8Pdmu21sSi022J2QZv9MQNAWlJZapP7Bgx78A4q1lwq95NJLQb0U1IvYg1LxIl7Em2hEobTVgwcpVcSi4qFRPGT/JWFnLVQ0NClNu/OVSTNxdzs7+5v5/XaXmf3lmLz3m3mfeTub/TH7mPSPlABLZetk0oCSTaABNaCkgGS67kANKCkgmS7cgQDcWOF4yfMaaDozO6InEAiyuLi088bNa2+C6RCB9hLRZtGFYx63SkyXGfTDlvS2tycmtl/tVE9HwNJ87TE0+AsQdsUcQ+r0mbnOBo4UJscv+i3kC7iw8O89q42V3wFkpI6ekGRmtjentu7Zvfvuv9tL8gUsVuzTAF5NSP1KymDm962c+ZoYYNn+CYSHlRw5IYsw8SUrbx4UA6zUlgHampDalZTBTCtWbnxUENC+BSCl5MgJWYSZG1bO3KQBI15QDRgRzkvTgBpQXICZ/iGibwjGZTZoGY5jEdM+gA6Jr9IaORQd6BZJoHdG7+J3M5nMcjtWcb62Hw6/R8ATYSGHAfCGkUo9X5jc9W0QDoB0qfrXJ4BzNAxi4gENNqYLuczHIijuzlKpUnc/LBwQiXdjEg3IzL8UspkDzAxRkLlqbR+Df17fpuualmxA4uNW3vyoq0JbQLFS+w2gB0XyEg2YNviBbNb8QwSiOaZYrn0AohMieYkGHElvGwva9OwEVCzXT4KcU0MPSClj79RkZlYEoqUDq7VTcOikSF6iO9Aw+HAha34pAtECWLHPA3hGJC/RgMz8tZUznxWB8GJqtaWxldVlm4A7dlj81kk04FrBBu2fyo7/KopYrNgfAjguGp98QKKFkfSWRyYmdi52QylV7ZcdBzPd4pr/PgyA7seFuRRoOp83L/jhADBK8/U3CPRW2A3j4QD01JjOMBnnDGz60UnDYdza4TTwFIOOgui+MJ23saTekY7C9n/OcHWgnJVvtgaURB0oIBNfAeFeyRoGmj4wQGb6bHTEmL523fmKiJ4eqILEwQcC6OIVsuYr7sHLZYw0yD4TV8S+AzbjeRc+zoh9BfTDizti3wCD8OKM2BdAEby4IvYcMAxeHBF7ChgFL26IPQOUwesdIp9lJvcRvRcl/vVrSe0JoAo89Yh81splXnLXLVXtGYBeUIGoHFAlnjrE23jMfNNd8/ZjHPXPVXSiUsBe4MkjruEdZubV5o5ThagMsJd40RH98bz1VCAqAewHXnjEYDxViNKA/cQTRxTDU4EoBbj+9NNBdxEV72hh1ui8AREOTxZRFvC8lTOfC1O4ylgX0eH6p9676fqr4Vj7G4boMaPcE2MN6MFUq/b9jpN28vmxP0WxOsWFRUwEoCxae34YRA3YQV8UUQMGtK8Iogbs8vrvhqgBBW6gQYgaUAAwaANCAwoCeojFqn2JQA95aRowBKAbWqzY5wBsPPWqATVgSAHJcN2BgwVsHTrBxBetvPm45DnFKn2ubF8gwkbN4YZOtI09Wf8S33dEWIqVQuST5e1E9GTzFxFDjj3Rg3fusGc+PZUzX2//fdDop1kAZuSLmKDE0KOf3NrXho85PDPs87MiDR/zmqdp/N2jBNozZOPvZhn0feTxdz6bj3oAo89taSgmUvbydqwBJXU1oAaUFJBM1x2oASUFJNN1B0oC/ge7ciONo1iiDgAAAABJRU5ErkJggg=="},null,-1)))];var z=b(x,[["render",function(e,t,a,r,o,i){const m=s,d=l,u=n,b=p;return A(),j("div",N,[v(b,{close:e.tabClose,backTips:!1,route:{path:"/retail/prescription-management"}},{header:D((()=>[V])),top:D((()=>[k("div",E,[F,v(m,{"form-data":e.formData,"submit-form":e.submitForm,"onUpdate:submit-form":t[0]||(t[0]=t=>e.submitForm=t),style:{"margin-top":"12px"},ref:"baseForm"},null,8,["form-data","submit-form"]),P,v(m,{"form-data":e.formData1,"submit-form":e.submitForm,"onUpdate:submit-form":t[1]||(t[1]=t=>e.submitForm=t),style:{"margin-top":"12px"},ref:"baseForm1"},null,8,["form-data","submit-form"]),C,v(m,{"form-data":e.formData2,"submit-form":e.submitForm,"onUpdate:submit-form":t[2]||(t[2]=t=>e.submitForm=t),style:{"margin-top":"12px"},ref:"baseForm2"},null,8,["form-data","submit-form"])])])),default:D((()=>[k("div",null,[S,1===e.submitForm.state||3===e.submitForm.state?(A(),w(d,{key:0,style:{"margin-top":"22px"},"table-data":e.tableData,formConfig:e.formConfig,columns:e.columns1,optionShow:e.optionShow},null,8,["table-data","formConfig","columns","optionShow"])):(A(),w(d,{key:1,style:{"margin-top":"22px"},"table-data":e.tableData,formConfig:e.formConfig,columns:e.columns,optionShow:e.optionShow},null,8,["table-data","formConfig","columns","optionShow"]))]),I,e.submitForm.prescriptionPngUrl?(A(),j("div",R,[k("div",U,[v(u,{png:e.submitForm.prescriptionPngUrl},null,8,["png"])])])):(A(),j("div",O,M))])),_:1},8,["close"])])}],["__scopeId","data-v-bf08ddc6"]]);export{z as default};
