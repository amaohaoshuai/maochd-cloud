var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{_ as l}from"./EditForm.8c35f1a6.js";import{_ as n}from"./BaseTable.36f55649.js";import{_ as m}from"./BaseCard.46de0c24.js";import{_ as d}from"./BaseName.1aa32b4b.js";import{d as p}from"./index.d94b3f7b.js";import{b as f}from"./vue-router.91336ba9.js";import{B as b}from"./BaseNotice.93ee8e4e.js";import{j as c,G as u,e as h,S as v,D as w,t as y,B as j,o as g,a5 as k,w as O,a6 as D,a9 as N,aa as P}from"./@vue.23a4bd1a.js";import{_ as x}from"./index.ab904951.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./sortablejs.621e50ab.js";import"./vuex.c868d4e0.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./public.9c1d8f39.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";/* empty css                                                             */import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";var I={name:"LossAndOverFlowDetail",components:{BaseCard:m,BaseTable:n,BaseNotice:b},setup(){const e=c({tabClose:!1,submitForm:{},tableData:[],formData:{inline:!0,labelWidth:"100px",list:[{label:"损溢单编号：",type:"DIV",key:"lossOverflowNo",span:8},{label:"创建人：",type:"DIV",key:"creator",span:8},{label:"制单时间：",type:"DIV",key:"planDate",span:8},{label:"门店：",type:"DIV",key:"business",span:8},{label:"备注：",type:"DIV",key:"remark",span:8}]},columns:[{title:"序号",type:"index",formConfig:{width:50},fixed:"left"},{key:"code",title:"商品编码",fixed:"left",width:80},{title:"商品名称",key:"name",fixed:"left",width:180,formConfig:{"show-overflow-tooltip":!1},render:e=>u(d,{row:e})},{key:"batchNumberIn",title:"批次",width:200},{key:"batchNumber",title:"批号",width:200},{title:"整装库存数量",key:"overallPackNum",width:150,align:"right",render:e=>e.overallPackNum?e.overallPackNum+e.unit:0+e.unit},{title:"拆零库存数量",key:"deleavePackNum",width:150,align:"right",render:e=>e.isSplit?e.deleavePackNum+e.splitUnit:"-"},{key:"lossOverflowNumber",title:"整装损溢数量",width:132,align:"right",header:()=>u(b,{title:"整装损溢数量",content:"负数为损,正数为溢"}),render:(e,t,a,r)=>h("span",null,[e.lossOverflowNumber,e.unit])},{key:"lossOverflowNumberSplit",title:"拆零损溢数量",width:132,align:"right",header:()=>u(b,{title:"拆零损溢数量",content:"负数为损,正数为溢"}),render:(e,t,a,r)=>e.isSplit?h("span",null,[e.lossOverflowNumberSplit,e.splitUnit]):h("span",null,[v("-")])},{key:"lossOverflowReason",title:"损溢原因",width:160},{key:"lossOverflowCost",title:"损溢成本金额",width:150,align:"right",header:()=>u(b,{title:"损溢成本金额",content:"=整装成本进价*整装损溢数量+拆零成本进价*拆零损溢数量"})},{key:"overallPackPrice",title:"整装成本进价",width:150,align:"right"},{key:"deleavePackPrice",title:"拆零成本进价",width:150,align:"right"},{key:"retailPrice",title:"整装零售价",width:150,align:"right"},{key:"retailPriceSplit",title:"拆零零售价",width:150,align:"right"},{key:"lossOverflowRetail",title:"损溢零售金额",width:150,align:"right",header:()=>u(b,{title:"损溢零售金额",content:"=损溢整装数量*整装零售价+损溢拆零数量*拆零零售价"})},{key:"holderPermit",title:"上市许可持有人",width:170,isShowTwo:!0,formConfig:{"show-overflow-tooltip":!1}}]}),l=f(),n=()=>{p(l.query.lossOverflowNo).then((t=>{e.submitForm=t,e.tableData=t.lossOverflowOrderDetailInfoList}))};return w((()=>{n()})),m=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))i.call(t,a)&&s(e,a,t[a]);return e})({},y(e)),t(m,a({getLossoverfloworderInfo:n}));var m}};const _={class:"LossAndOverFlowDetail formItem-noMargin"},B=(e=>(N("data-v-07ea5128"),e=e(),P(),e))((()=>D("span",{style:{"font-size":"16px","font-weight":"600"}},"损益管理详情",-1))),S={class:"commodityInfo"},C={class:"top-content"};var F=x(I,[["render",function(e,t,a,r,o,i){const s=l,d=n,p=j("el-scrollbar"),f=m;return g(),k("div",_,[h(f,{close:e.tabClose,backTips:!1,route:{path:"/storage/loss-and-overflow"}},{header:O((()=>[B])),default:O((()=>[h(p,null,{default:O((()=>[D("div",S,[D("div",C,[h(s,{"form-data":e.formData,"onUpdate:form-data":t[0]||(t[0]=t=>e.formData=t),"submit-form":e.submitForm,"onUpdate:submit-form":t[1]||(t[1]=t=>e.submitForm=t),ref:"ruleForm"},null,8,["form-data","submit-form"])]),h(d,{"table-data":e.tableData,columns:e.columns,optionShow:!1},null,8,["table-data","columns"])])])),_:1})])),_:1},8,["close"])])}],["__scopeId","data-v-07ea5128"]]);export{F as default};
