var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,i=(e,l)=>{for(var a in l||(l={}))s.call(l,a)&&r(e,a,l[a]);if(t)for(var a of t(l))o.call(l,a)&&r(e,a,l[a]);return e},d=(e,t)=>l(e,a(t));import{_ as n}from"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import{_ as p}from"./lodash.d7ab6f48.js";import{_ as m}from"./index.ab904951.js";import{g as u,i as f,j as y,n as b,t as c,B as h,o as g,c as k,w as x,a5 as v,N as V,F as w,ab as D,a6 as F,v as U,S as T,z as C,e as M,x as O,O as P,a8 as _}from"./@vue.23a4bd1a.js";class E{constructor(e,l){this.formData=p.cloneDeep(e),this.data=p.cloneDeep(l)}errorFun(e){let l=[null,void 0,""];return!(!Array.isArray(e)||e.length)||l.includes(e)}submit(){let e=!0,{formData:l,data:a,errorFun:t}=this,{list:s}=l;return s.forEach((l=>{let{key:s,require:o,rules:r,label:i}=l;if(o&&(t(a[s])?(l.errorMessg=`请输入${i}`,e=!1):l.errorMessg=""),r&&r.length)for(let d=0;d<r.length;d++){let o=r[d],{required:n,pattern:p,transformation:m}=o;if(n){if(t(a[s])){l.errorMessg=`请输入${i}`,e=!1;break}l.errorMessg=""}p&&a[s]?p.test(a[s])?l.errorMessg="":m?(l.errorMessg=`${i}格式不正确`,e=!1):(l.errorMessg=`${i}只能为整数`,e=!1):l.errorMessg=""}})),{formData:l,status:e}}storage(){let{formData:e,data:l,errorFun:a}=this,t=!0,{list:s}=e;return s.forEach((e=>{let{rules:s,key:o,label:r,require:i}=e;if(s&&s.length)for(let d=0;d<s.length;d++){let i=s[d],{pattern:n}=i;n&&!a(l[o])?n.test(l[o])?e.errorMessg="":(e.errorMessg=`${r}格式不正确`,t=!1):e.errorMessg=""}})),{formData:e,status:t}}}const j={key:0},H={key:6,style:{position:"relative"}};var S=m({props:{submitForm:{type:Object,default:()=>({})},formData:{type:Object,default:()=>({})},stayleConfig:{type:Object,default:()=>({width:"160px"})},radioStyle:{type:Object,default:()=>({})}},components:{TempHtml:n},setup(e,{emit:l}){const a=u(null),t=({span:e,list:l})=>{let a=[],t=24/e,s=[];return l.forEach(((e,o)=>{s.push(e),s.length>=t?(a.push(s),s=[]):o===l.length-1&&a.push(s)})),a};f((()=>e.formData),(()=>{s.formList=t(e.formData)}));const s=y({formList:t(e.formData)});return b((()=>{document.querySelector(".el-form-item__content")})),d(i({},c(s)),{form:a,handleClick:a=>{let{formData:t,submitForm:s}=e;const o=new E(t,s);let r;return r=a?o.submit():o.storage(),l("update:formData",r.formData),r.status},placeholder:({placeholder:e,type:l})=>{let a="请输入",t=["INPUT"];switch(typeof e){case"function":a=e();break;case"string":a=e;break;default:t.includes(l)||(a="请选择")}return a},resetFields:()=>{let{formData:l}=e;l.list.forEach((e=>{e.errorMessg=""}))},querySearch:(e,l,a)=>{let{list:t}=a,s=t();a.props=a.props||{value:"value",label:"label"},l(e?s.filter((l=>l.label.includes(e))):s)}})}},[["render",function(e,l,a,t,s,o){const r=n,p=h("el-input"),m=h("el-tooltip"),u=h("el-autocomplete"),f=h("el-input-number"),y=h("el-option"),b=h("el-select"),c=h("el-date-picker"),E=h("el-radio"),S=h("el-radio-group"),I=h("el-cascader"),A=h("el-form-item"),L=h("el-col"),q=h("el-row"),z=h("el-form");return g(),k(z,O({model:a.submitForm},i({size:"small"},a.formData.config),{ref:"form",class:"submitForm"}),{default:x((()=>[(g(!0),v(w,null,V(e.formList,((e,l)=>(g(),k(q,{key:l},{default:x((()=>[(g(!0),v(w,null,V(e,(e=>(g(),k(L,{key:e.key,span:e.span?e.span:a.formData.span,class:"box",style:D({paddingLeft:"top"===a.formData.labelPosition?"0px":a.formData.labelWidth||"80px",paddingTop:"top"===a.formData.labelPosition?"16px":""})},{default:x((()=>[F("label",{class:"label",style:D({width:a.formData.labelWidth||"80px",textAlign:"top"===a.formData.labelPosition?"left":"right",lineHeight:"top"===a.formData.labelPosition?"16px":"28px",fontSize:"top"===a.formData.labelPosition?"12px":"14px",marginLeft:"top"===a.formData.labelPosition?"12px":"0px"})},[e.require?(g(),v("i",j,"*")):U("",!0),T(" "+C(e.label)+C(a.formData.fixedText),1)],4),M(A,{error:e.errorMessg},{default:x((()=>["TEMP"===e.type?(g(),v("div",{key:0,class:"temp",style:D(i(i({},a.stayleConfig),e.design))},[M(r,{render:e.render,"submit-form":a.submitForm},null,8,["render","submit-form"])],4)):U("",!0),"DIV"===e.type?(g(),v("div",{key:1,class:"temp",style:D(e.style)},[F("span",null,C(a.submitForm[e.key]||"-"),1)],4)):U("",!0),"INPUT-TOOL-TIP"===e.type?(g(),k(m,{key:2,effect:"dark",content:e.tips(),placement:"top",disabled:e.tipsDisabled()},{default:x((()=>[M(p,O({modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l,modelModifiers:{trim:!0},placeholder:t.placeholder(e),type:e.inputType,style:i(i({},a.stayleConfig),e.design),"show-password":"password"===e.inputType,maxlength:"100"},e.config,{disabled:!!e.disabled&&e.disabled(),onChange:e.onchange}),P({_:2},[e.suffix?{name:"suffix",fn:x((()=>[e.suffix.icon?(g(),v("i",{key:0,class:_(e.suffix.icon)},null,2)):U("",!0),e.suffix.tempHtml?(g(),k(r,{key:1,render:e.suffix.tempHtml},null,8,["render"])):U("",!0)]))}:void 0,e.prefix?{name:"prefix",fn:x((()=>[e.prefix.icon?(g(),v("i",{key:0,class:_(e.prefix.icon)},null,2)):U("",!0),e.prefix.tempHtml?(g(),k(r,{key:1,render:e.prefix.tempHtml},null,8,["render"])):U("",!0)]))}:void 0,e.addBtn?{name:"addBtn",fn:x((()=>[e.suffix.tempHtml?(g(),k(r,{key:0,render:e.suffix.tempHtml},null,8,["render"])):U("",!0)]))}:void 0]),1040,["modelValue","onUpdate:modelValue","placeholder","type","style","show-password","disabled","onChange"])])),_:2},1032,["content","disabled"])):U("",!0),"AUTOCOMPLETE"===e.type?(g(),k(u,{key:3,modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l,modelModifiers:{trim:!0},"fetch-suggestions":(l,a)=>{t.querySearch(l,a,e)},class:"inline-input",placeholder:t.placeholder(e)},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions","placeholder"])):U("",!0),"INPUT"===e.type?(g(),k(p,O({key:4,size:"small",modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l,modelModifiers:{trim:!0},placeholder:t.placeholder(e),type:e.inputType,style:i(i({},a.stayleConfig),e.design),"show-password":"password"===e.inputType,maxlength:e.maxlength?e.maxlength:100},e.config,{disabled:!!e.disabled&&e.disabled(),clearable:""}),P({_:2},[e.suffix?{name:"suffix",fn:x((()=>[e.suffix.icon?(g(),v("i",{key:0,class:_(e.suffix.icon)},null,2)):U("",!0),e.suffix.tempHtml?(g(),k(r,{key:1,render:e.suffix.tempHtml},null,8,["render"])):U("",!0)]))}:void 0,e.prefix?{name:"prefix",fn:x((()=>[e.prefix.icon?(g(),v("i",{key:0,class:_(e.prefix.icon)},null,2)):U("",!0),e.prefix.tempHtml?(g(),k(r,{key:1,render:e.prefix.tempHtml},null,8,["render"])):U("",!0)]))}:void 0]),1040,["modelValue","onUpdate:modelValue","placeholder","type","style","show-password","maxlength","disabled"])):U("",!0),"NUMBER-INPUT"===e.type?(g(),k(f,O({key:5,modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l,placeholder:t.placeholder(e),type:e.inputType,style:i(i({},a.stayleConfig),e.design),"show-password":"password"===e.inputType,max:e.max,precision:e.precision,min:e.min},e.config,{disabled:!!e.disabled&&e.disabled(),clearable:""}),null,16,["modelValue","onUpdate:modelValue","placeholder","type","style","show-password","max","precision","min","disabled"])):U("",!0),"SELECT"===e.type?(g(),v("div",H,[M(b,O({size:"small",modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l},i({filterable:!0},e.config),{style:i(i({},a.stayleConfig),e.design),placeholder:t.placeholder(e),disabled:!!e.disabled&&e.disabled()}),{default:x((()=>[(g(!0),v(w,null,V(e.list(),(l=>(g(),k(y,{style:D({width:e.width?e.width:"224px"}),key:l[e.props?e.props.value:"value"],label:l[e.props?e.props.label:"label"],value:l[e.props?e.props.value:"value"]},null,8,["style","label","value"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","style","placeholder","disabled"]),e.render?(g(),k(r,{key:0,render:e.render,"submit-form":a.submitForm},null,8,["render","submit-form"])):U("",!0)])):U("",!0),"SELECT-BASE"===e.type?(g(),k(b,O({key:7,size:"small",modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l},e.config,{placeholder:t.placeholder(e),disabled:!!e.disabled&&e.disabled()}),{default:x((()=>[(g(!0),v(w,null,V(e.list(),(l=>(g(),k(y,{style:D({width:e.width?e.width:"224px"}),key:l[e.props?e.props.value:"value"],label:l[e.props?e.props.label:"label"],value:l[e.props?e.props.value:"value"]},null,8,["style","label","value"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","placeholder","disabled"])):U("",!0),"DATEPICKER"===e.type?(g(),k(c,O({key:8,size:"small",modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l,style:i(i({},a.stayleConfig),e.design),type:"date",placeholder:t.placeholder(e)},e.config,{disabled:!!e.disabled&&e.disabled()}),null,16,["modelValue","onUpdate:modelValue","style","placeholder","disabled"])):U("",!0),"RADIO"===e.type?(g(),k(S,O({key:9,modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l},e.config,{style:i(i({},a.stayleConfig),e.design)}),{default:x((()=>[(g(!0),v(w,null,V(e.list(),(l=>(g(),k(E,{label:l[e.props?e.props.value:"value"],key:l[e.props?e.props.value:"value"],disabled:!!e.disabled&&e.disabled(),style:D(i({},a.radioStyle))},{default:x((()=>[T(C(l.label),1)])),_:2},1032,["label","disabled","style"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","style"])):U("",!0),"CASCADER"===e.type?(g(),k(I,O({key:10,modelValue:a.submitForm[e.key],"onUpdate:modelValue":l=>a.submitForm[e.key]=l,clearable:"",filterable:"",options:e.list(),placeholder:t.placeholder(e),"show-all-levels":!!e.levels&&e.levels,style:d(i(i({},a.stayleConfig),e.design),{width:e.width})},e.config,{disabled:!!e.disabled&&e.disabled(),onChange:e.onchange}),null,16,["modelValue","onUpdate:modelValue","options","placeholder","show-all-levels","style","disabled","onChange"])):U("",!0),e.tools?(g(),v("div",{key:11,class:"tools",style:D(e.tools.design||{})},[M(r,{render:e.tools.tempHtml},null,8,["render"])],4)):U("",!0)])),_:2},1032,["error"])])),_:2},1032,["span","style"])))),128))])),_:2},1024)))),128))])),_:1},16,["model"])}],["__scopeId","data-v-7b95901b"]]);export{S as _};
