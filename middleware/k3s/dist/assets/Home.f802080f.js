var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,s=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&r(e,a,t[a]);if(i)for(var a of i(t))l.call(t,a)&&r(e,a,t[a]);return e},n=(e,i)=>t(e,a(i));import{g as d,s as c,a as p}from"./data.706dd79a.js";import{u as A}from"./vue-router.91336ba9.js";import"./lodash.d7ab6f48.js";import{g as m}from"./index.e7529637.js";import{_ as y}from"./index.ab904951.js";import{j as u,m as g,D as h,t as b,B as w,o as f,a5 as v,a6 as C,z as E,F as x,N as D,e as U,w as B,S as Y,v as O,ab as k,q as j,a9 as S,aa as L,a8 as I}from"./@vue.23a4bd1a.js";import"./axios.7b768d2b.js";import"./dayjs.bad04745.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";import"./nprogress.8b4927f9.js";import"./vuex.c868d4e0.js";import"./default-passive-events.74004992.js";const X={name:"Home",setup(){let e=u({toDoList:{},toDoListSum:"",countMsg:{},visible:!0,radio1:"销售额",radio2:"会员占比",data:{},datax:{},tData:[],myChart:"",myChart2:"",myChart3:"",show:!0});const t=u({list:[{title:"应收金额",key:"shouldMoney",bef:"￥"},{title:"实收金额",key:"payAmount",bef:"￥"},{title:"优惠金额",key:"discountAmount",bef:"￥"},{title:"成本金额",key:"costAmount",bef:"￥"},{title:"毛利",key:"grossProfit",bef:"￥"},{title:"毛利率",key:"grossMargin",aft:"%"},{title:"充值金额",key:"rechargeAmount",bef:"￥"},{title:"客流量/客单价",key:"customerFlow",key1:"customerPrice",aft:"人",bef1:"￥"}],formData:{inline:!0,labelWidth:"82px",config:{size:"medium"}},dateList:{1:[{type:"DATEPICKER",placeholder:"供应商编号/供应商名称/助记码",label:"日期",key:"1",config:{clearable:!1}}],2:[{type:"TIME",placeholder:"供应商编号/供应商名称/助记码",label:"日期",config:{type:"week",format:"gggg 第 ww 周",placeholder:"选择周",clearable:!1},key:"2"}],3:[{type:"TIME",placeholder:"供应商编号/供应商名称/助记码",label:"日期",config:{type:"month",placeholder:"选择月","value-format":"YYYY-MM",clearable:!1},key:"3"}],4:[{type:"TIME",placeholder:"供应商编号/供应商名称/助记码",label:"日期",config:{type:"year",placeholder:"选择年","value-format":"YYYY",clearable:!1},key:"4"}]}});let a=g("ec");const i=()=>{let t=a.init(document.getElementById("myChart"));t.setOption({tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#1890FF"}}},grid:{left:"5%",right:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.datax[e.radio1],axisLine:{lineStyle:{color:"#606266"}}},yAxis:{type:"value"},series:[{type:"line",smooth:.6,symbol:"circle",symbolSize:8,data:e.data[e.radio1],lineStyle:{color:"#1890FF",width:4},itemStyle:{borderWidth:2,borderColor:"#fff",color:"#1890FF",shadowColor:"rgba(0, 43, 83, 0.2)",shadowBlur:8,shadowOffsetY:4},areaStyle:{opacity:.8,color:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(24,144,255,0.10)"},{offset:1,color:"rgba(24,144,255,0.00)"}])}}]}),e.myChart=t},o=()=>{let t=a.init(document.getElementById("myChart2"));t.setOption({tooltip:{trigger:"item",formatter:"{b}: {c}%"},legend:{bottom:20,data:[{name:"会员",icon:"circle",background:"#ccd"},{name:"客流",icon:"circle"}],selectedMode:!1},color:["#74A0FA","#73DEB3"],series:[{type:"pie",radius:["40%","60%"],avoidLabelOverlap:!1,top:"-15%",itemStyle:{borderColor:"#fff",borderWidth:3},label:{show:!1,position:"outer",margin:"25%",formatter:"{b}: {d}%"},labelLine:{show:!1},data:e.data[e.radio2]}]}),e.myChart2=t},l=e=>{let t=[];return e.forEach((e=>{t.push(n(s({},e),{icon:"circle"}))})),t},r=()=>{i(),o(),(()=>{let t=a.init(document.getElementById("myChart3"));t.setOption({tooltip:{trigger:"item",formatter:"{b}: {d}%(￥{c})"},legend:{bottom:10,data:l(e.countMsg.payInfoPie),selectedMode:!1},color:["#EB7F65","#73DEB3","#90D5FB","#F7C739","#74A0FA","#FFAC68","#B193E4"],series:[{type:"pie",radius:["40%","60%"],avoidLabelOverlap:!1,top:"-15%",itemStyle:{borderColor:"#fff",borderWidth:3},label:{show:!1,position:"center"},labelLine:{show:!1},data:e.countMsg.payInfoPie}]}),e.myChart3=t})(),j((()=>{window.onresize=()=>{e.myChart.resize(),e.myChart2.resize(),e.myChart3.resize()}}))},y=async()=>{let t=new Date,a={type:1,startDate:d(t)},i=await c(a);e.countMsg=i,e.data["会员占比"]=i.customerPie,e.data["会员销售占比"]=i.customerSellPie;let o=await p(a);e.data["销售额"]=o.yaxisSales,e.data["销售数量"]=o.yaxisOrderCount,e.data["客流"]=o.yaxisUsers,e.datax["销售额"]=o.xaxisSales,e.datax["销售数量"]=o.xaxisOrderCount,e.datax["客流"]=o.xaxisUsers,r()},w=A();return h((()=>{e.show=!1,j((async()=>{e.show=!0,await y(),e.toDoList=await m(),e.toDoListSum=e.toDoList.validitySupplierCount+e.toDoList.stockWarningCount+e.toDoList.validityProductCount}))})),n(s(s({},b(e)),b(t)),{drawLine:i,getBatchNumberListData:y,drawing:r,drawLine2:o,getUrl:e=>{w.push(e)},jumpEarlyWarning:e=>{1===e?w.push({path:"/quality/gsp-manage/supplier-warning"}):2===e?w.push({path:"/storage/inventory-warning"}):w.push({path:"/quality/gsp-manage/expediting-list"})}})}},z=e=>(S("data-v-73bb44f8"),e=e(),L(),e),F={class:"home",id:"home"},N={style:{display:"flex"}},W={class:"top"},K=[z((()=>C("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA6NJREFUaEPtmk9oU1kUxr/vmaT+2wy0oijYQl24GPBPk9GdggtBFwoKwnThQhhBhhmYGa1JwTdMEnXhQnDhVlREVKoodCNMQYQ2aZhsBBcOuHAxzmYcRmz6ktwjD3WoxdZ773t5iel76+985/zuuTnvzw2xxC4uMV7EwN3e8bjDcYcXWYF+V5avSeIUKEcB9LdksQSvFfGQDkfLI3wSNIf1lvZh+1IyRmBv0CK04gW1JrmrkuWUln4BkTXwUEFOOJRLQZKbxgpQLWedraZxc/XWwOmiuk9gf5DkNrHivVlXdlf/ZRPrxwQB/p3ALtvEtnGeNztQdVc8t42PgXVXLl1UcYd1FyuIrm1bOlNUYwAOBCneJrZtQytTlO8AuWxTtG2MCKrlXJtuS3AlkU7JOIE9tgBGcYKaIvdMZ/nYKG6e2HpK+z7+01ZvUp1yyGEAg0EKWTBW8BrERNOr/1Jxe54GzWEEvDMv6xtUeYD7SfQGTW4Z34BgWgnPTY/ynqmHNvDWvGxMOjIJYK1pklbpRfhzOccLJv7awENFNea0YSp/BqbhebObTJ68tIEzBfUfiNUmqxmFVhSPlEd5UzeXPnBRyVxTAZ4CPL7Kw+MJlw3dhLa6b8682SCpnhzI4x978Ggpyyu6vnbAghq92qapX1e+0E0Uli5daF7lu7vC+ysKYOB2KescDgvCxCf9W30vly0bjxr4binrHDQpNCxtpiD7QHkQKbAIXjle7eu2bOli8wbBI5ECv0/2rAkOVzxUEMHQ2u5Kr5NSOYI/Rj+0wtqfofhEM7RCKTUckxh40XW0uw+H05qQXDq4wwI8VF79+xr+fbEq2fcDKPng1B0M3ExwsHKSf36ATBfUHyS2BIPuYGDP41dVl6/+Bw7ly2cM3DlDK+5w12xp4cjfdVx87rJmOpAyeW8ITuKW/nlzm3/DAkyUs85uU9C5+vRZ+ZYi1/Q82gwMwWQp5+zUK/bTqi8L2GcIsKW35b0dCSdx44vZ0ot1Np7SXTOlF2hz3OFu73DTq2+eeyDW9S8P/uthQ/HYPw28XNODnyBd/noY5N68cGy7HzxaQ7WIa6uAC2oGxPLIeT6TUMjh8mle163L5JuW/0B/SNc4It0MhQNTOb7UzacNvMWd6U+leh4B2KBr3mKdQHi6lON5kzzawL6pD51Mps60+C8PHx3LzocRwD+arYri+elR3jGB9bVGwKbmnaiPgTuxK2HWFHc4zNXsRK8l1+G3PVnkTA49rcEAAAAASUVORK5CYII="},null,-1))),Y("商品查询 ")],P=[z((()=>C("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAXhJREFUaEPtWltuwjAQHEtwqsIt+KC9Q3oYOAR8cAu4VSMZQVWpPIJnHZvYyeQ3XmdnZ3Zi2XaY2OMmhhcCPHbGxbAYHlkFJOmREfoAh2P4uN0BfgXnZsGCeOyxbD6D4wYawAE+bT2fn2+x+J7z4987MgNgAIuGm/e9WK9f4xIzMSzAA/DY/Ukx/LQ2fSRdmMPnZ9hUrPwOXxjg/IYnwMl72CRpMZz8l1a2pDM4fNmATe3AOfyIAHP9L8BFubRJ0mL4KXeStCR9qUCfXhoqtmPJIklL0pI0sZ7/v2upHg4ULFWxZFq/FZBLy6Xl0nLpxwqkcto+vzS5tFz6RW+eNj8Acfr/N8WNpAeK7SXpy3apwzpoV963gDvcXHnIE3t/I6GFwwEfzVcoR27hEZqlovcCXBFZUalyDFuOPKLSSBBEXpfiAFtdOkH+9ilSHrWwTmvPMhTB3g+TS3dVkpN0iIeK3gtwRWRFpSqGo8pWUZAYroisqFQnx/AZdhk5TPtnsdkAAAAASUVORK5CYII="},null,-1))),Y("供应商结算明细 ")],R=[z((()=>C("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABG9JREFUaEPtmlFoHFUUhv8z9+5SIYGGpEEwYsE+VlRoEZ9coaCgwkYzG6R9UNAXsxMbrFBQ6Io+KATX7m5QqSBCBd1tbKAtRPAhYsCKghVf+iJW8CFsExpoIOvuzB6ZpRtn1t2dnd2Z2U0z8zhz77nnu/85c++cO4Q9dtEe40UIfLcrHiocKuxyBv5MxfbdPzaeBXACwD6X3S3NeQtMl8VG8WVKrZS6t2Pv6XlIV3KJNAEnvXIQwGcymX/VK3ueA+s59TZAQ145COZNqRVGvLLXETBnph80lOr7AD3bGKbVCj8anStcqzuk5xLslXN1OzKZ3/GznFYfUSL0q30M3gKwLGCcouQ3f7Ub3xGYc88/YEBeBXBvM0ODAVz3jNcqlcrj98wt3WgF7QisZxMXQYi3MjBYwDUvv5LJ/IvdAzvk5P+BPc5hYEsm88N1gOYhbcOztW8Ed1bYISebKHwOwCue5TFzTmoFzQUwrDnvO3BtHR4d//xOGvSwDsNce8+L9aJmXYc7UNhnYDaORrXFXzxT1MFQOfvCEYXEz+2a+aowAUmRzC8EBWxkEm+wgvm+AYP579t65aGRuaVNv6FvpeP7hyNRcw0+2D9gAAy+Jqv6SzR78Te/oM3cJYlzRHTEaQxfQ9o6OIOvE7Dm5FAXzycAOtRpv8CAO3XI73YhsGWGe954+K1WN/ZDhUOF28SNH9+3jmHKvAnQZRCPAfS0Y/uGBrstpNcqlfLON203JaPdBFwSMGKUXPypLto/ZycPCxH53Y3KuwW4JNiIk7b4rRVOX5g+Dubzdxcwsw5GXM4Wrth2bpnphw2luuq2KDjwChPzSaEVztpgzVoai1UQTbhR12wbLLCpFmEJTCUQppyK8URIiZn8OzbYj9X7DINWnb6KWk1EsMDV6gk5e+FL0xnOqE8YCi23gmbGfETLv2l1vJhSh0ZG6UciHHarbL19oMBivThMqRWzTly79Iz6TE1xImkDYF4SGzdVSq3o9ftmeWhidPwSEY51Cxt4SAuFY/Ra4Xurw0ZWfZ2JPvrvHi+L9ZuT1loVp2JSHztwibrYaDROTqAKA7ghoMcaTwCMXOJdBt5mxlW5UXyy8YBMzyU8q3YGDWxWQK7fIhwdnynshLapgpGdOrOt0KdDMwVbkcBYSJxhRqqXMLb2DRy4NjjjO7FRfM7pqNPIqm8x0XtewQaew04vJtsuKjN1HIriahfVycT0R+E7njFX5yPaBdvSYz6qZBNPkfn27unQvDl+X4FNlwg4LZL5D+ruOa3PnajYrk3fgWvQVE2Vy/KLiDQeA/AJiPb3Ctaq/0AA+wXXzG4IbJmVsGrZGCJ9qWn1GP9hSIch3SaEwpDuMb+C6N5rDm/7sf3zEbzXv3jUAkBmbWp3XIwlqeUnWznruA6XPlQPySj90OpPvAGbBdupRTPfHIHNTtvp+MGIjKZBfMxtjbiLCXH/ryajBOYrAsppmv36j3ZjdgTchdMD2yUEHlhpPHIsVNijiRxYM3tO4X8B0d8fWyV79H4AAAAASUVORK5CYII="},null,-1))),Y("采购收货 ")],M=[z((()=>C("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABB1JREFUaEPtmk9oHFUcx7+/nRddpCm92Ea0qCBYQRBRUKHgCh60dceIjZlUpRVyECwYMIKihxwUhQb00MMWCgZU3DUgspsahYJ76EEQoYIXQbGHQDcgNiR7CN2Z+cpuNiXEnT9v980ma2au83u/3+/zft958/4J9tgje4wXKfD/veJphdMKG+wBjj13p2fJBwAcUFyARSsj78tX5WWDYUJd9UXSzOWUf3D/mxTMQLBvW0Z1gf9OplY/L9WqmzR44sCcyD/pEgWBHAmDIXFF+d6kzF/8JUnoxIDrY8dGspY6C+AVTYCCJZhJSubGgVvyPbT/DaIl3wOasBvmZE2AGatUOd9V+5BGRoHpPP+YC54T4FETibZkDv+0lBZ+NeGv6cMI8PXR0QPDt3pnITJpKrGbfkgXIhf+8VbfPjhfrffqvyfgpny9keFToMx2Ld+4BGQNkGlVKn8Zt0knu66BefL4I65nnRPB470koN+WVYuc6lbm2sAt+Wb9j0BOQkTpJ2yiBddJFNTy2rtSra7reNQCdsftlwHOQmREJ0hitk2ZC6dUcaEUN0YsYI7Z93sWC4Dk4jruqx1xyULjdSkt/hkVNxS4Kd99We89IaZ2Tr5RCJvvuU7IrKqtfhgm80Bgnjx2t+erKoB74obcFXbEH1YGR4NmaoHArmPPAzixKyB0kyDnVKnymtZvyR231zqsbHRD75A9/1bFyu16wI7NHcrWSFhVLHdUb5ikU2AjXd8nJ6YqXL9xo/HAbd8sLoXl3RjPfyIiUxs2vGzV1p4K2834K5fLHj40/CNEjE1TTQFfVcXyvVFFcifsUyDm2sBzqth5xNzqx3XynwFyOsp33PcpcLundAettMKdJJZKOv2G/6uLdNCKOxwH2KWjdFejNLFiLa/eEbWt4k3Yb5GY3Zh38FtVqrwQVTDXyS8C8kyUXdz3pircjHdViJWwwBQeASS7aUPytwyah2edH1+YjTqKiQu6aWcSWDf2jtinwF19w62jCjmToR+6eHAhZ0TwdDvGEuBPW5TA7VQvAwXKpwDuarcpWOT3YdJwBUcFMh1kY6rCSU4tPwekddLoe+7Dt8x/dyUMuL0/fn2QgW+ullLgDmVMK7ytUwbhG04lnQ5aW3og/YYT+oaXVLF8OGquuG3H4wtVrLwa2cbJa/2H27eEriX9H26ufi6ISOhMyydPiMiDG6slrAhYgATPtAAotk4o25fWiEsiuLwVxt92H0XIhyAymjxwVKl2yXv939J4vrH7z4QDepd0Vaky1Olt4DZtw7F/NnXfqt9FJ/nTUKnyhBaw69jHASz0O1kD8Ujfe3bo64s/aAE3jd2X8i9C5GMI7jOQSFwXXZ9aEvxdwJmwSy6xLrXEzXQQ7FLgQahSLzmmFe6l9wah7Z6r8L/h56hbsNRvFQAAAABJRU5ErkJggg=="},null,-1))),Y("商品库存 ")],G={class:"earlyWarning"},Q={class:"warningTitle"},V={class:"warningMsg"},T=z((()=>C("p",null,"供应商证件效期",-1))),H={class:"msgNum"},Z=Y("条"),J=z((()=>C("p",null,"商品库存预警",-1))),q={class:"msgNum"},_=Y("条"),$=z((()=>C("p",null,"近效期商品",-1))),ee={class:"msgNum"},te=Y("条"),ae={class:"con-auto"},ie={class:"con"},oe=z((()=>C("div",{class:"title"},"销售日汇总",-1))),le={class:"list"},re=["src"],se={class:"tips"},ne={class:"name"},de={key:0,style:{"font-size":"20px"}},ce={key:0},pe={class:"btn"},Ae={class:"btn-d1"},me={class:"header"},ye={key:0,id:"myChart",style:{width:"100%",height:"90%"}},ue={class:"btn-d2"},ge={class:"header"},he={class:"btn-d2"},be=z((()=>C("div",{class:"header2"},[C("div",null,"支付方式占比")],-1)));var we=y(X,[["render",function(e,t,a,i,o,l){const r=w("el-radio-button"),s=w("el-radio-group");return f(),v("div",F,[C("div",N,[C("div",W,[C("div",{onClick:t[0]||(t[0]=e=>i.getUrl("/commodity-manage/goods-query"))},K),C("div",{onClick:t[1]||(t[1]=e=>i.getUrl("/finance-manage/supplier-settlement"))},P),C("div",{onClick:t[2]||(t[2]=e=>i.getUrl("/purchase/purchase-dispatch"))},R),C("div",{onClick:t[3]||(t[3]=e=>i.getUrl("/storage/commodity-stock"))},M)]),C("div",G,[C("div",Q,"待办事项("+E(e.toDoListSum?e.toDoListSum:0)+")",1),C("div",V,[C("div",{class:"jumpEarly",onClick:t[4]||(t[4]=e=>i.jumpEarlyWarning(1))},[T,C("p",null,[C("span",H,E(e.toDoList.validitySupplierCount?e.toDoList.validitySupplierCount:0),1),Z])]),C("div",{class:"jumpEarly",onClick:t[5]||(t[5]=e=>i.jumpEarlyWarning(2))},[J,C("p",null,[C("span",q,E(e.toDoList.stockWarningCount?e.toDoList.stockWarningCount:0),1),_])]),C("div",{class:"jumpEarly",onClick:t[6]||(t[6]=e=>i.jumpEarlyWarning(3))},[$,C("p",null,[C("span",ee,E(e.toDoList.validityProductCount?e.toDoList.validityProductCount:0),1),te])])])])]),C("div",ae,[C("div",ie,[oe,C("div",le,[(f(!0),v(x,null,D(e.list,((t,a)=>(f(),v("div",{key:a,class:I({"bon-b":!0,"bon-r":(a+1)%4!=0})},[C("img",{src:"./static/images/home/s"+(a+1)+".png"},null,8,re),C("div",se,[C("div",ne,E(t.title),1),e.countMsg[t.key]||!e.countMsg[t.key]&&0===e.countMsg[t.key]?(f(),v("div",de,[Y(E(t.bef)+E(e.countMsg[t.key])+E(t.aft),1),t.key1?(f(),v("span",ce,"/"+E(t.bef1)+E(e.countMsg[t.key1])+E(t.aft1),1)):O("",!0)])):O("",!0)])],2)))),128))])]),C("div",pe,[C("div",Ae,[C("div",me,[U(s,{modelValue:e.radio1,"onUpdate:modelValue":t[7]||(t[7]=t=>e.radio1=t),onChange:t[8]||(t[8]=e=>i.drawLine()),size:"mini"},{default:B((()=>[U(r,{label:"销售额"}),U(r,{label:"销售数量"}),U(r,{label:"客流"})])),_:1},8,["modelValue"]),Y(" 近七日"+E(e.radio1),1)]),e.show?(f(),v("div",ye)):O("",!0)]),C("div",ue,[C("div",ge,[U(s,{modelValue:e.radio2,"onUpdate:modelValue":t[9]||(t[9]=t=>e.radio2=t),onChange:t[10]||(t[10]=e=>i.drawLine2()),size:"mini"},{default:B((()=>[U(r,{label:"会员占比"}),U(r,{label:"会员销售占比"})])),_:1},8,["modelValue"])]),e.show?(f(),v("div",{key:0,id:"myChart2",style:k({width:"100%",height:"calc(100% - 40px)"})},null,4)):O("",!0)]),C("div",he,[be,e.show?(f(),v("div",{key:0,id:"myChart3",style:k({width:"100%",height:"calc(100% - 40px)"})},null,4)):O("",!0)])])])])}],["__scopeId","data-v-73bb44f8"]]);export{we as default};
