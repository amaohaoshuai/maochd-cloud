var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,l=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&s(e,a,t[a]);if(o)for(var a of o(t))i.call(t,a)&&s(e,a,t[a]);return e};import{_ as m}from"./EditForm.8c35f1a6.js";import{_ as n}from"./BaseTable.36f55649.js";import{_ as d}from"./BaseCard.46de0c24.js";import{_ as p}from"./BaseName.1aa32b4b.js";import{b as u}from"./vue-router.91336ba9.js";import{b as c,c as b}from"./CuringTask.23b43602.js";import{u as f}from"./vuex.c868d4e0.js";import{j as y,e as g,D as j,t as v,B as h,o as k,a5 as w,w as T,a6 as D,a9 as I,aa as F}from"./@vue.23a4bd1a.js";import{_ as C}from"./index.ab904951.js";import"./TempHtml.vue_vue&type=script&lang.67ba229f.js";import"./lodash.d7ab6f48.js";import"./dayjs.bad04745.js";import"./sortablejs.621e50ab.js";import"./element-resize-detector.5b0b5621.js";import"./batch-processor.94093b2a.js";import"./public.9c1d8f39.js";import"./element-plus.b44d97a8.js";import"./resize-observer-polyfill.d4249adb.js";import"./normalize-wheel.1d574cd1.js";import"./mitt.32ebca9f.js";import"./async-validator.1fa0d626.js";import"./@popperjs.192dcd39.js";import"./vue.6d04e91d.js";/* empty css                                                             */import"./axios.7b768d2b.js";import"./echarts.e8cef18b.js";import"./tslib.34a40861.js";import"./zrender.5bef55a0.js";import"./vue3-print-nb.eccf419a.js";import"./nprogress.8b4927f9.js";import"./default-passive-events.74004992.js";var _={name:"CuringTaskDetail",setup(){let e=u();f();const o=y({qualityState:{0:"不合格",1:"合格"},curingType:{0:"待养护",1:"已养护"},storageConditions:{1:"常温",2:"阴凉",3:"冷藏"},mteType:{1:"一般养护",2:"重点养护",3:"近效期养护"}}),r=y({index:0,submitForm:{"page.currentPage":1,"page.pageSize":10},editForm:null,editForm1:null,baseTable:null,keyBoard:null,close:!1,go:{path:"/quality/curing-manage/curing-task"},config:{size:"medium"},pot:0,query:{},formInfo:{labelWidth:"100px",span:8,list:[{label:"任务编号：",type:"DIV",key:"taskNo"},{label:"任务名称：",type:"DIV",key:"taskName"},{label:"门店：",type:"DIV",key:"business"},{label:"养护类型：",type:"DIV",key:"mteType"},{label:"任务生成时间：",type:"DIV",key:"createTime"},{label:"养护排序：",type:"DIV",key:"sortCode"},{label:"商品类型：",type:"DIV",key:"productCategory"},{label:"备注：",type:"DIV",key:"remark"}]},info:{},columns:[{title:"序号",type:"index",formConfig:{width:50}},{title:"商品编码",key:"code",width:135},{title:"商品名称",key:"name",width:180,formConfig:{"show-overflow-tooltip":!1},render:e=>g(p,{row:e},null)},{title:"批号",key:"batchNum"},{title:"生产日期",key:"producedTime",width:110},{title:"有效期至",key:"indate",width:110},{title:"整装库存数量",key:"overallPackNum",width:120,align:"right"},{title:"拆零库存数量",key:"deleavePackNum",width:120,align:"right"},{title:"质量状况",key:"qualityState",render:e=>g("div",null,[o.qualityState[e.qualityState]])},{title:"储存条件",key:"condition",render:e=>g("div",null,[o.storageConditions[e.condition]])},{title:"养护状态",key:"state",render:e=>g("div",null,[o.curingType[e.state]])},{title:"批准文号",isShowTwo:!0,config:{"show-overflow-tooltip":!1},key:"approvalNumber",width:224},{title:"上市许可持有人",isShowTwo:!0,config:{"show-overflow-tooltip":!1},key:"holderPermit",width:256}],data:[]}),i=async t=>{try{let t={uuid:e.query.uuid};const a=await c(t);r.info=a,r.info.mteType=o.mteType[r.info.mteType],r.info.productCategory=r.info.productCategory.join(",")}catch(a){return a}},s=async()=>{try{r.submitForm.taskUuid=e.query.uuid,r.submitForm.sortCode="code";const t=await b(r.submitForm);r.submitForm.total=t.totalElements,r.submitForm.pageNumber=t.currentPage,t.list.map((e=>{e.name=e.productName})),r.data=t.list}catch(t){return t}};return j((()=>{i(),s()})),m=l(l({},v(r)),v(o)),t(m,a({getDetail:i,getDetailList:s}));var m}};const N={class:"formItem-noMargin",style:{height:"100%"}},P=(e=>(I("data-v-311a1426"),e=e(),F(),e))((()=>D("div",{class:"title"},"养护任务详情",-1))),x={class:"top-content"},O={class:"main"};var S=C(_,[["render",function(e,t,a,o,r,i){const s=m,l=n,p=h("el-scrollbar"),u=d;return k(),w("div",N,[g(u,{close:e.close,route:e.go,backTips:!1,"t-id":"tab"},{header:T((()=>[P])),default:T((()=>[D("div",x,[g(s,{"form-data":e.formInfo,"onUpdate:form-data":t[0]||(t[0]=t=>e.formInfo=t),"submit-form":e.info,"onUpdate:submit-form":t[1]||(t[1]=t=>e.info=t),ref:"editForm"},null,8,["form-data","submit-form"])]),g(p,null,{default:T((()=>[D("div",O,[g(l,{class:"select-table",columns:e.columns,"table-data":e.data,"fixed-head":!1,"class-id":"tab","reduce-num":220,optionShow:!1,ref:"baseTable",pagination:e.submitForm,"submit-form":e.submitForm,"onUpdate:submit-form":t[2]||(t[2]=t=>e.submitForm=t),select:o.getDetailList},null,8,["columns","table-data","pagination","submit-form","select"])])])),_:1})])),_:1},8,["close","route"])])}],["__scopeId","data-v-311a1426"]]);export{S as default};
